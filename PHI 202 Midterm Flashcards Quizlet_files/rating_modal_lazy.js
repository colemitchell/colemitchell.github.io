(window.QJP=window.QJP||[]).push([[127],{"4juH":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("VbXa"),r=a.n(n),i=a("TSYQ"),o=a.n(i),l=a("q1tI"),u=a.n(l),s={b1:"UIText--bodyOne",b2:"UIText--bodyTwo",b3:"UIText--bodyThree",b3s:"UIText--bodyThreeSpaced",b4:"UIText--bodyFour",l1:"UIText--linkOne",ln:"UIText--linkNav",l2:"UIText--linkTwo",s1:"UIText--specialOne",s2:"UIText--specialTwo",s3:"UIText--specialThree",s4:"UIText--specialFour",s5:"UIText--specialFive",s6:"UIText--specialSix"},c=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=o()("UIText",s[this.props.type]);return u.a.createElement("span",{className:e},this.props.children)},t}(u.a.PureComponent)},JSdf:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("VbXa"),r=a.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(a("RVJv").a);i.MODEL_NAME="rating",i.URL_BASE="ratings",i.API_VERSION="3.4"},UaYY:function(e,t,a){"use strict";a("yXV3"),a("wLYn"),a("sMBO"),a("zKZe"),a("uL8W"),a("eoL8"),a("5DmW"),a("NBAS"),a("ExoC"),Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(e,t,a){for(var n=!0;n;){var r=e,i=t,o=a;n=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,i);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(o)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=i,a=o,n=!0,l=s=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=o(a("17x9")),c=o(a("q1tI")),d=function(e){function t(){l(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return u(t,e),r(t,[{key:"render",value:function(){var e=this.context.radioGroup,t=e.name,a=e.selectedValue,r=e.onChange,i={};return void 0!==a&&(i.checked=this.props.value===a),"function"==typeof r&&(i.onChange=r.bind(null,this.props.value)),c.default.createElement("input",n({},this.props,{type:"radio",name:t},i))}}]),t}(c.default.Component);t.Radio=d,d.contextTypes={radioGroup:s.default.object};var p=function(e){function t(){l(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return u(t,e),r(t,[{key:"getChildContext",value:function(){var e=this.props;return{radioGroup:{name:e.name,selectedValue:e.selectedValue,onChange:e.onChange}}}},{key:"render",value:function(){var e=this.props,t=e.Component,a=(e.name,e.selectedValue,e.onChange,e.children),n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["Component","name","selectedValue","onChange","children"]);return c.default.createElement(t,n,a)}}]),t}(c.default.Component);t.RadioGroup=p,p.defaultProps={Component:"div"},p.propTypes={name:s.default.string,selectedValue:s.default.oneOfType([s.default.string,s.default.number,s.default.bool]),onChange:s.default.func,children:s.default.node.isRequired,Component:s.default.oneOfType([s.default.string,s.default.func,s.default.object])},p.childContextTypes={radioGroup:s.default.object}},XMvv:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"COMPLIMENT_ITEMS",(function(){return F})),a.d(t,"default",(function(){return M}));a("2B1R"),a("4l63"),a("SYor");var n=a("o0o1"),r=a.n(n),i=(a("ls82"),a("yXPU")),o=a.n(i),l=a("VbXa"),u=a.n(l),s=a("TSYQ"),c=a.n(s),d=a("dckv"),p=a("Uudg"),m=a("JxFz"),f=a("Pxp3"),h=a("FFEN"),g=a("/i8B"),v=a("bvRJ"),b=a("vlgG"),E=a("47yS"),R=a("dxfC"),y=a("wcmh"),_=a("niDJ"),k=a("4juH"),O=a("og3H"),T=a("xisi"),I=a("JSdf"),C=a("q1tI"),S=a.n(C),N=a("l6OD"),x=a("T3U7"),F=[{icon:"comprehensive",label:S.a.createElement(p.a,{id:"rating_modal.compliments.comprehensive"}),value:O.N.COMPREHENSIVE},{icon:"engaging-format",label:S.a.createElement(p.a,{id:"rating_modal.compliments.engaging_format"}),value:O.N.ENGAGING_FORMAT},{icon:"good-refresher",label:S.a.createElement(p.a,{id:"rating_modal.compliments.good_refresher"}),value:O.N.GOOD_REFRESHER},{icon:"great-test-results",label:S.a.createElement(p.a,{id:"rating_modal.compliments.great_test_results"}),value:O.N.GREAT_TEST_RESULTS}],P=[{label:S.a.createElement(p.a,{id:"rating_modal.reports.not_enough_detail"}),value:O.N.NOT_ENOUGH_DETAIL},{label:S.a.createElement(p.a,{id:"rating_modal.reports.poorly_formatted"}),value:O.N.POORLY_FORMATTED},{label:S.a.createElement(p.a,{id:"rating_modal.reports.incomplete_or_irrelevant"}),value:O.N.INCOMPLETE_OR_IRRELEVANT},{label:S.a.createElement(p.a,{id:"rating_modal.reports.other"}),value:O.N.OTHER}],M=function(t){function a(e){var a;(a=t.call(this,e)||this).handleSubmit=function(e){var t=a.props,n=t.model,r=t.modelType,i=t.user,o=t.userRating,l=t.userRatingFeedback,u=t.userRatingValue,s=a.state,c=s.feedback,d=s.quickFeedback,p=s.rating,m=i?i.id:null,f=n.id;if(e)Object(x.a)("rating_modal_skip_feedback",{modelId:f,modelType:r,userId:m}),a.handleDismiss(),a.props.onSubmitRating();else if(null!=f&&r&&null!=m){var h=l;u&&Object(x.a)("rating_modal_change_feedback",{feedback:c,modelId:f,modelType:r,prevFeedback:h,prevRating:u,quickFeedback:d,rating:p,userId:m}),a.saveRating({feedback:c,id:o?o.id:null,modelId:f,modelType:r,quickFeedback:d,rating:p,userId:m})}},a.handleUpdateFeedback=function(e){var t=e.currentTarget.value;a.setState({feedback:t})},a.handleCloseModal=function(){a.handleSubmit(!0)},a.renderComplimentItem=function(e){var t=a.state.quickFeedback,n=t&&t!==e.value,r=c()("RatingModal-complimentWrapper",{disabled:n});return S.a.createElement("div",{className:r,key:e.value,onClick:function(){return a.handleUpdateQuickFeedback(e.value)}},S.a.createElement(v.a,{icon:e.icon}),S.a.createElement("div",{className:"RatingModal-complimentText"},S.a.createElement(k.a,{type:"b4"},e.label)))},a.saveRating=function(e){a.setState({saving:!0},o()(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new I.a(e),t.next=3,n.save();case 3:a.setState({saving:!1},(function(){a.props.onSubmitRating(e.rating)}));case 4:case"end":return t.stop()}}),t)}))))},a.updateRating=function(e){var t=a.state.rating;t?a.isRatingACompliment(t)===a.isRatingACompliment(e)?a.setState({rating:e}):a.setState({feedback:null,quickFeedback:null,rating:e}):a.setState({rating:e})},a.otherReasonInputRef=S.a.createRef();var n=a.props,i=n.userRatingFeedback,l=n.userRatingQuickFeedback,u=n.userRatingValue;return a.state={feedback:i,quickFeedback:l,rating:u,saving:!1},a}u()(a,t);var n=a.prototype;return n.handleUpdateQuickFeedback=function(e){var t=this;this.setState({quickFeedback:e},(function(){e===O.N.OTHER&&t.otherReasonInputRef.current&&t.otherReasonInputRef.current.focus()}))},n.handleDismiss=function(){T.a.put("/webapi/3.4/ratings/dismiss").credentials().end((function(){}))},n.renderRating=function(){return S.a.createElement(d.a,{rating:this.state.rating,updateRating:this.updateRating})},n.renderSubmitButton=function(){var t=this;return S.a.createElement(m.a,{"aria-label":e("rating_modal.submit"),disabled:this.shouldDisableSubmitButton(),hero:!0,onClick:function(){return t.handleSubmit(!1)},type:"submit",width:"fill"},S.a.createElement(p.a,{id:"rating_modal.submit"}))},n.renderHeader=function(){var e;switch(this.props.modelType){case O.C.PREP_PACK:e=S.a.createElement(p.a,{id:"rating_modal.prep_pack_title"});break;case O.C.SET:e=S.a.createElement(p.a,{id:"rating_modal.set_title"});break;case O.C.FOLDER:default:e=S.a.createElement(p.a,{id:"rating_modal.study_guide_title"})}return S.a.createElement("div",{className:"RatingModal-header"},e)},n.renderReports=function(){var e=this,t=this.state.quickFeedback,a=t?""+t:"";return S.a.createElement(S.a.Fragment,null,S.a.createElement(h.a,{deprecatedStyle:!0,size:6},S.a.createElement("span",{className:"RatingModal-subHeading"},S.a.createElement(p.a,{id:"rating_modal.reports.heading"}))),S.a.createElement("div",{className:"RatingModal-reports","data-testid":"reports"},S.a.createElement(_.a,{name:"reports",onChange:function(t){return e.handleUpdateQuickFeedback(parseInt(t,10))},value:a},P.map((function(e){var t=""+e.value;return S.a.createElement(y.a,{key:t,label:e.label,value:t})}))),t===O.N.OTHER?this.renderOtherReasonInput():null))},n.renderOtherReasonInput=function(){return S.a.createElement("div",{className:"RatingModal-feedbackInput"},S.a.createElement(g.a,null),S.a.createElement(b.a,{label:S.a.createElement(p.a,{id:"rating_modal.other_label"}),onChange:this.handleUpdateFeedback,placeholder:e("rating_modal.other_placeholder"),ref:this.otherReasonInputRef,value:this.state.feedback||""}))},n.renderCompliments=function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement(h.a,{deprecatedStyle:!0,size:6},S.a.createElement("span",{className:"RatingModal-subHeading"},S.a.createElement(p.a,{id:"rating_modal.compliments.heading"}))),S.a.createElement("div",{className:"RatingModal-compliments","data-testid":"compliments"},F.map(this.renderComplimentItem)))},n.renderQuickFeedback=function(){var e=this.state.rating;return null==e?null:this.isRatingACompliment(e)?this.renderCompliments():this.renderReports()},n.renderRatingFollowup=function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement(g.a,null),this.renderQuickFeedback(),this.renderSubmitButton())},n.renderSubTitle=function(){return S.a.createElement(h.a,{deprecatedStyle:!0,size:6},S.a.createElement("span",{className:"RatingModal-subHeading"},this.state.rating?S.a.createElement(p.a,{count:this.state.rating,id:"rating_modal.after_rating_sub_title"}):S.a.createElement(p.a,{id:"rating_modal.before_rating_sub_title"})))},n.render=function(){return S.a.createElement(R.a,{fullWidthBody:Object(N.h)(),headerContent:this.renderHeader(),includeCloseButton:!0,isOpen:this.props.isOpen,onClose:this.handleCloseModal},S.a.createElement("div",{className:"RatingModal"},this.state.saving?S.a.createElement("span",{className:"RatingModal-loader"},S.a.createElement(E.a,{size:"large"})):null,this.renderSubTitle(),S.a.createElement(f.a,{className:"RatingModal-rating"},this.renderRating()),this.state.rating?this.renderRatingFollowup():null))},n.isRatingACompliment=function(e){return e>3},n.shouldDisableSubmitButton=function(){var e=this.state,t=e.feedback,a=e.quickFeedback;return!e.rating||a===O.N.OTHER&&(!t||0===t.trim().length)},a}(S.a.PureComponent);M.defaultProps={isOpen:!1}}.call(this,a("nrsj").default)},dckv:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("ma9I"),a("pjDv"),a("PKPk");var n=a("VbXa"),r=a.n(n),i=a("bvRJ"),o=a("a08m"),l=a("q1tI"),u=a.n(l),s=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={hoverIndex:0},t.handleHoverOn=function(e){e!==t.state.hoverIndex&&t.setState({hoverIndex:e})},t.handleHoverOff=function(){t.setState({hoverIndex:0})},t}r()(t,e);var a=t.prototype;return a.renderStars=function(){var e=this,t=this.props.rating,a=this.state.hoverIndex||t;return Array.from([1,2,3,4,5],(function(t){return u.a.createElement("div",{className:"Rating-star","data-testid":"ratingStar",key:"star"+t,onMouseEnter:function(){return e.handleHoverOn(t)},onMouseLeave:e.handleHoverOff},u.a.createElement(o.a,{onClick:function(){return e.props.updateRating(t)}},u.a.createElement(i.a,{icon:a&&a>=t?"star":"star-empty",size:"xlarge"})))}))},a.render=function(){return u.a.createElement("div",{className:"Rating"},this.renderStars())},t}(u.a.PureComponent)},niDJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a("2B1R");var n=a("pVnL"),r=a.n(n),i=a("8OQS"),o=a.n(i),l=a("VbXa"),u=a.n(l),s=a("Pxp3"),c=a("q1tI"),d=a.n(c),p=a("UaYY"),m=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,a=e.value,n=o()(e,["children","value"]);return d.a.createElement(p.RadioGroup,r()({},n,{className:"UIRadioGroup",Component:s.a,selectedValue:a}),d.a.Children.map(t,(function(e){return d.a.isValidElement(e)?d.a.cloneElement(e,{Component:p.Radio}):null})))},t}(d.a.PureComponent)}}]);