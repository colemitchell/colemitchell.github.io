(window.QJP=window.QJP||[]).push([[153],{"1Cun":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("zKZe");var r=n("QR21"),a=n("og3H"),s=n("zK28");function o(e,t){void 0===t&&(t={});var n=Object.assign({agent:window.navigator.userAgent,client_term_id:e.termId,language:e.language,platform:a.I.WEB,playback_action:e.playbackAction,term_side:e.termSide,user_id:s.a.user&&s.a.user.id},t);Object(r.a)("audio_playback_events",n,{includeUserDetails:!0})}},"4CRz":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return m}));var r=n("VbXa"),a=n.n(r),s=n("78K5"),o=n("Nxgj"),i=n("EwE0"),u=n("Uudg"),l=n("JxFz"),c=n("bvRJ"),d=n("q1tI"),p=n.n(d),g=n("qpvQ"),h=n("dHOp"),m=function(t){function n(){return t.apply(this,arguments)||this}return a()(n,t),n.prototype.render=function(){var t={customParams:{signupOrigin:"set-page-signup-modal"}};return p.a.createElement(i.a,{subtitle:p.a.createElement(u.a,{id:"signup_wall_inline.subtitle"}),title:p.a.createElement(u.a,{id:"signup_wall_inline.title"})},p.a.createElement("div",{className:"SignupWallInline-signupButton"},p.a.createElement(o.a,{googleLoginUrl:Object(h.c)(t),label:e("signup_wall_inline.google"),onClick:this.props.onGoogleSignupButtonClicked,variant:"small"})),p.a.createElement("div",{className:"SignupWallInline-signupButton"},p.a.createElement(s.a,{facebookLoginUrl:Object(h.b)(t),label:e("signup_wall_inline.facebook"),onClick:this.props.onFacebookSignupButtonClicked,variant:"small"})),p.a.createElement("div",{className:"SignupWallInline-signupButton"},p.a.createElement(l.a,{"aria-label":e("signup_wall_inline.cta"),onClick:this.props.onEmailSignupButtonClicked,width:"fill"},p.a.createElement(c.a,{icon:"mail"}),p.a.createElement(u.a,{id:"signup_wall_inline.cta"}))),p.a.createElement("div",{className:"SignupWallInline-login"},p.a.createElement(g.a,{cta:p.a.createElement(u.a,{id:"global.sign_up_modal.already_have_account"}),link:p.a.createElement(u.a,{id:"global.sign_up_modal.log_in_link"}),linkVariant:"inverted",onClickLogin:this.props.onLoginLinkClicked})))},n}(d.PureComponent)}.call(this,n("nrsj").default)},"7zzx":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("pVnL"),a=n.n(r),s=n("8OQS"),o=n.n(s),i=n("VbXa"),u=n.n(i),l=n("6grX"),c=n("wLt/"),d=n("lG1/"),p=n("Uudg"),g=n("ifSZ"),h=(n("07d7"),n("5s+n"),n("mr8R")),m=Object(h.a)((function(){return Promise.all([n.e(7),n.e(9),n.e(13),n.e(0),n.e(135)]).then(n.bind(null,"vm/G"))})),_=n("q1tI"),f=n.n(_),S=n("RvVp"),v=n("mmUd"),T=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleEditorChange=function(e){"rich"in e?n.updateEditorValue({plain:e.plain,rich:e.rich?e.rich:Object(S.c)(e.plain)}):"currentTarget"in e&&n.updateEditorValue({plain:e.currentTarget.value,rich:Object(S.c)(e.currentTarget.value)})},n.state={editorValue:n.getInitialEditorValue()},n}u()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.autoFocus&&this.props.isEditing&&this.focusTextarea()},n.UNSAFE_componentWillReceiveProps=function(e){!this.props.isEditing&&e.isEditing&&this.updateEditorValue(this.getInitialEditorValue())},n.componentDidUpdate=function(e){this.props.autoFocus&&!e.isEditing&&this.props.isEditing&&this.focusTextarea()},n.getEditLabel=function(){return this.props.shouldUseLanguageLabel?Object(g.a)(this.props.lang):this.props.side===c.b?f.a.createElement(p.a,{id:"global.inline_edit.edit_term"}):f.a.createElement(p.a,{id:"global.inline_edit.edit_definition"})},n.getInitialEditorValue=function(){return this.props.side===c.b?{plain:this.props.term.word,rich:this.props.term.wordRichText}:{plain:this.props.term.definition,rich:this.props.term.definitionRichText}},n.render=function(){var e=this;if(this.props.isEditing&&(this.props.canEditRichText||Object(v.a)()))return f.a.createElement(m,{alwaysShowToolbar:!0,autofocus:!1,canEditRichText:!!this.props.canEditRichText,isEmbeddedInline:!0,lang:this.props.lang,languageCodes:[this.props.lang],onChange:this.handleEditorChange,onEditorKeyDown:this.props.onRichTextKeyDown,plainText:this.state.editorValue.plain,pmJson:this.state.editorValue.rich,ref:function(t){e.richTextEditor=t}});if(this.props.isEditing){var t=this.getEditLabel(),n=this.props,r=(n.autoFocus,n.canEditRichText,n.isEditing,n.onChange,n.onRichTextKeyDown,n.side,n.term,n.shouldUseLanguageLabel,n.shouldShowRichText,o()(n,["autoFocus","canEditRichText","isEditing","onChange","onRichTextKeyDown","side","term","shouldUseLanguageLabel","shouldShowRichText"]));return f.a.createElement(d.a,a()({},r,{label:t,languageCodes:[this.props.lang],onChange:this.handleEditorChange,ref:function(t){e.uiTextarea=t},value:this.state.editorValue.plain}))}var s=this.props,i=(s.autoFocus,s.isEditing,s.onChange,s.shouldUseLanguageLabel,o()(s,["autoFocus","isEditing","onChange","shouldUseLanguageLabel"]));return f.a.createElement(c.c,a()({allowRtl:!0},i))},n.focusTextarea=function(){this.uiTextarea&&this.uiTextarea.focus(l.b.FOCUS_END)},n.updateEditorValue=function(e){this.setState({editorValue:e}),this.props.onChange(e)},t}(f.a.Component);T.defaultProps={autoFocus:!1}},"8xMa":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("xisi");function a(e,t,n,a){r.a.put("/webapi/3.2/terms/"+e).send({data:[t]}).accept("application/json").credentials().setXRequestWith().end((function(e,t){e&&a?a(e):(null==t?void 0:t.body)&&n(t.body)}))}},EwE0:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("VbXa"),a=n.n(r),s=n("TSYQ"),o=n.n(s),i=n("Pxp3"),u=n("FFEN"),l=n("q1tI"),c=n.n(l),d=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.variant,r=t.title,a=t.subtitle,s=t.children,l=o()("SetPageWall",((e={})["SetPageWall--"+n]=n,e));return c.a.createElement("div",{className:l},c.a.createElement("div",{className:"SetPageWall-overlay"}),c.a.createElement("div",{className:"SetPageWall-container"},c.a.createElement("div",{className:"SetPageWall-text"},c.a.createElement(u.a,{deprecatedStyle:!0,size:3},r),c.a.createElement(i.a,null,a)),c.a.createElement("div",{className:"SetPageWall-cta"},s)))},t}(l.PureComponent);d.defaultProps={variant:"normal"}},HPId:function(e,t,n){"use strict";var r=n("Uudg"),a=n("AQxD"),s=n("q1tI"),o=n.n(s);t.a=function(e){var t=e.distractorCount;return o.a.createElement("div",{className:"SetPageCustomDistractorBadge"},o.a.createElement(a.a,null,o.a.createElement(r.a,{distractorCount:t,id:"set_page.custom_distractor_badge"})))}},HlzF:function(e,t,n){(function(r){var a;n("yXV3"),n("J30X"),n("4mDm"),n("+2oP"),n("pDQq"),n("rOQg"),n("brp2"),n("DQNa"),n("wLYn"),n("tkto"),n("07d7"),n("rNhl"),n("4l63"),n("5s+n"),n("rB9j"),n("Rm1S"),n("UxlC"),n("EnZy"),n("XMab"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0"),
/*!
 *  howler.js v2.1.2
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var e=this||s;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||s;if(e=parseFloat(e),t.ctx||g(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,s.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),a=0;a<r.length;a++){var o=t._howls[n]._soundById(r[a]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||s;t.ctx||g(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,s.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),a=0;a<r.length;a++){var o=t._howls[n]._soundById(r[a]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},unload:function(){for(var e=this||s,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,g()),e},codecs:function(e){return(this||s)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||s;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||s,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(o){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),a=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||s;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function t(n){for(var r=0;r<e.html5PoolSize;r++)try{var a=new Audio;a._unlocked=!0,e._releaseHtml5Audio(a)}catch(n){e.noAudio=!0}for(r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var s=e._howls[r]._getSoundIds(),o=0;o<s.length;o++){var i=e._howls[r]._soundById(s[o]);i&&i._node&&!i._node._unlocked&&(i._node._unlocked=!0,i._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||s;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||s;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&s.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then((function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())})))}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&s.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var s=new n,o=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var t=this;return s.ctx||g(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=s.usingWebAudio&&!t._html5,void 0!==s.ctx&&s.ctx&&s.autoUnlock&&s._unlockAudio(),s._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(s.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,a;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(a=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(a))||(r=/\.([^.]+)$/.exec(a.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&s.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&l(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var a=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(a++,r=n._sounds[o]._id);1===a?e=null:r=null}}var i=r?n._soundById(r):n._inactiveSound();if(!i)return null;if(r&&!e&&(e=i._sprite||"__default"),"loaded"!==n._state){i._sprite=e,i._ended=!1;var u=i._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!i._paused)return t||n._loadQueue("play"),i._id;n._webAudio&&s._autoResume();var l=Math.max(0,i._seek>0?i._seek:n._sprite[e][0]/1e3),c=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-l),d=1e3*c/Math.abs(i._rate),p=n._sprite[e][0]/1e3,g=(n._sprite[e][0]+n._sprite[e][1])/1e3,h=!(!i._loop&&!n._sprite[e][2]);i._sprite=e,i._ended=!1;var m=function(){i._paused=!1,i._seek=l,i._start=p,i._stop=g,i._loop=h};if(!(l>=g)){var _=i._node;if(n._webAudio){var f=function(){n._playLock=!1,m(),n._refreshBuffer(i);var e=i._muted||n._muted?0:i._volume;_.gain.setValueAtTime(e,s.ctx.currentTime),i._playStart=s.ctx.currentTime,void 0===_.bufferSource.start?i._loop?_.bufferSource.noteGrainOn(0,l,86400):_.bufferSource.noteGrainOn(0,l,c):i._loop?_.bufferSource.start(0,l,86400):_.bufferSource.start(0,l,c),d!==1/0&&(n._endTimers[i._id]=setTimeout(n._ended.bind(n,i),d)),t||setTimeout((function(){n._emit("play",i._id),n._loadQueue()}),0)};"running"===s.state?f():(n._playLock=!0,n.once("resume",f),n._clearTimer(i._id))}else{var S=function(){_.currentTime=l,_.muted=i._muted||n._muted||s._muted||_.muted,_.volume=i._volume*s.volume(),_.playbackRate=i._rate;try{var r=_.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,m(),r.then((function(){n._playLock=!1,_._unlocked=!0,t||(n._emit("play",i._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",i._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),i._ended=!0,i._paused=!0}))):t||(n._playLock=!1,m(),n._emit("play",i._id),n._loadQueue()),_.playbackRate=i._rate,_.paused)return void n._emit("playerror",i._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||i._loop?n._endTimers[i._id]=setTimeout(n._ended.bind(n,i),d):(n._endTimers[i._id]=function(){n._ended(i),_.removeEventListener("ended",n._endTimers[i._id],!1)},_.addEventListener("ended",n._endTimers[i._id],!1))}catch(a){n._emit("playerror",i._id,a)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===_.src&&(_.src=n._src,_.load());var v=window&&window.ejecta||!_.readyState&&s._navigator.isCocoonJS;if(_.readyState>=3||v)S();else{n._playLock=!0;_.addEventListener(s._canPlayEvent,(function e(){S(),_.removeEventListener(s._canPlayEvent,e,!1)}),!1),n._clearTimer(i._id)}}return i._id}n._ended(i)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var a=t._soundById(n[r]);if(a&&!a._paused&&(a._seek=t.seek(n[r]),a._rateSeek=0,a._paused=!0,t._stopFade(n[r]),a._node))if(t._webAudio){if(!a._node.bufferSource)continue;void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==1/0||a._node.pause();arguments[1]||t._emit("pause",a?a._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),a=0;a<r.length;a++){n._clearTimer(r[a]);var s=n._soundById(r[a]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,n._stopFade(r[a]),s._node&&(n._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),n._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&n._clearSound(s._node))),t||n._emit("stop",s._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),a=0;a<r.length;a++){var o=n._soundById(r[a]);o&&(o._muted=e,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,s.ctx.currentTime):o._node&&(o._node.muted=!!s._muted||e),n._emit("mute",o._id))}return n},volume:function(){var e,t,n,r=this,a=arguments;if(0===a.length)return r._volume;if(1===a.length||2===a.length&&void 0===a[1]){var o=r._getSoundIds(),i=o.indexOf(a[0]);i>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else a.length>=2&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,a)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)(n=r._soundById(t[u]))&&(n._volume=e,a[2]||r._stopFade(t[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,s.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*s.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,n,r)}}),a;e=parseFloat(e),t=parseFloat(t),n=parseFloat(n),a.volume(e,r);for(var o=a._getSoundIds(r),i=0;i<o.length;i++){var u=a._soundById(o[i]);if(u){if(r||a._stopFade(o[i]),a._webAudio&&!u._muted){var l=s.ctx.currentTime,c=l+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,l),u._node.gain.linearRampToValueAtTime(t,c)}a._startFadeInterval(u,e,t,n,o[i],void 0===r)}}return a},_startFadeInterval:function(e,t,n,r,a,s){var o=this,i=t,u=n-t,l=Math.abs(u/.01),c=Math.max(4,l>0?r/l:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var a=(Date.now()-d)/r;d=Date.now(),i+=u*a,i=Math.max(0,i),i=Math.min(1,i),i=Math.round(100*i)/100,o._webAudio?e._volume=i:o.volume(i,e._id,!0),s&&(o._volume=i),(n<t&&i<=n||n>t&&i>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,o.volume(n,e._id),o._emit("fade",e._id))}),c)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,a=arguments;if(0===a.length)return r._loop;if(1===a.length){if("boolean"!=typeof a[0])return!!(n=r._soundById(parseInt(a[0],10)))&&n._loop;e=a[0],r._loop=e}else 2===a.length&&(e=a[0],t=parseInt(a[1],10));for(var s=r._getSoundIds(t),o=0;o<s.length;o++)(n=r._soundById(s[o]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var e,t,n,r=this,a=arguments;if(0===a.length)t=r._sounds[0]._id;else if(1===a.length){var o=r._getSoundIds(),i=o.indexOf(a[0]);i>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else 2===a.length&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,a)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)if(n=r._soundById(t[u])){r.playing(t[u])&&(n._rateSeek=r.seek(t[u]),n._playStart=r._webAudio?s.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,s.ctx.currentTime):n._node&&(n._node.playbackRate=e);var l=r.seek(t[u]),c=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-l,d=1e3*c/Math.abs(n._rate);!r._endTimers[t[u]]&&n._paused||(r._clearTimer(t[u]),r._endTimers[t[u]]=setTimeout(r._ended.bind(r,n),d)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){var a=n._getSoundIds(),o=a.indexOf(r[0]);o>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(t);if(i){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?s.ctx.currentTime-i._playStart:0,l=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(l+u*Math.abs(i._rate))}return i._node.currentTime}var c=n.playing(t);c&&n.pause(t,!0),i._seek=e,i._ended=!1,n._clearTimer(t),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var d=function(){n._emit("seek",t),c&&n.play(t,!0)};if(c&&!n._webAudio){var p=function e(){n._playLock?setTimeout(e,0):d()};setTimeout(p,0)}else d()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(s._canPlayEvent,t[n]._loadFn,!1),s._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=s._howls.indexOf(e);r>=0&&s._howls.splice(r,1);var a=!0;for(n=0;n<s._howls.length;n++)if(s._howls[n]._src===e._src||e._src.indexOf(s._howls[n]._src)>=0){a=!1;break}return u&&a&&delete u[e._src],s.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var a=this["_on"+e];return"function"==typeof t&&a.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,a=r["_on"+e],s=0;if("number"==typeof t&&(n=t,t=null),t||n)for(s=0;s<a.length;s++){var o=n===a[s].id;if(t===a[s].fn&&o||!t&&o){a.splice(s,1);break}}else if(e)r["_on"+e]=[];else{var i=Object.keys(r);for(s=0;s<i.length;s++)0===i[s].indexOf("_on")&&Array.isArray(r[i[s]])&&(r[i[s]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,a=r["_on"+e],s=a.length-1;s>=0;s--)a[s].id&&a[s].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,a[s].fn),0),a[s].once&&r.off(e,a[s].fn,a[s].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=s.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),s._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=s.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,s.ctx.currentTime),this},_cleanBuffer:function(e){var t=s._navigator&&s._navigator.vendor.indexOf("Apple")>=0;if(s._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=s._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(s._navigator&&s._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++s._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=s._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),e._node.gain.setValueAtTime(n,s.ctx.currentTime),e._node.paused=!0,e._node.connect(s.masterGain)):(e._node=s._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(s._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload="auto",e._node.volume=n*s.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++s._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(s._canPlayEvent,e._loadFn,!1)}};var u={},l=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void p(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);d(r.buffer,e)}else{var s=new XMLHttpRequest;s.open("GET",t,!0),s.withCredentials=e._xhrWithCredentials,s.responseType="arraybuffer",s.onload=function(){var t=(s.status+"")[0];"0"===t||"2"===t||"3"===t?d(s.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+s.status+".")},s.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},c(s)}},c=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,p(t,e)):n()};"undefined"!=typeof Promise&&1===s.ctx.decodeAudioData.length?s.ctx.decodeAudioData(e).then(r).catch(n):s.ctx.decodeAudioData(e,r,n)},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},g=function(){if(s.usingWebAudio){try{"undefined"!=typeof AudioContext?s.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch(a){s.usingWebAudio=!1}s.ctx||(s.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),t=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());(s._navigator&&s._navigator.standalone&&!r||s._navigator&&!s._navigator.standalone&&!r)&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.setValueAtTime(s._muted?0:1,s.ctx.currentTime),s.masterGain.connect(s.ctx.destination)),s._setup()}};void 0===(a=function(){return{Howler:s,Howl:o}}.apply(t,[]))||(e.exports=a),t.Howler=s,t.Howl=o,"undefined"!=typeof window?(window.HowlerGlobal=n,window.Howler=s,window.Howl=o,window.Sound=i):void 0!==r&&(r.HowlerGlobal=n,r.Howler=s,r.Howl=o,r.Sound=i)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.1.2
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,a,s){var o=this;if(!o.ctx||!o.ctx.listener)return o;var i=o._orientation;return t="number"!=typeof t?i[1]:t,n="number"!=typeof n?i[2]:n,r="number"!=typeof r?i[3]:r,a="number"!=typeof a?i[4]:a,s="number"!=typeof s?i[5]:s,"number"!=typeof e?i:(o._orientation=[e,t,n,r,a,s],void 0!==o.ctx.listener.forwardX?(o.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),o.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.upY.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.upZ.setTargetAtTime(n,Howler.ctx.currentTime,.1)):o.ctx.listener.setOrientation(e,t,n,r,a,s),o)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var a=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var s=r._getSoundIds(n),o=0;o<s.length;o++){var i=r._soundById(s[o]);if(i){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0],i._node&&(i._pannerAttr.panningModel="equalpower",i._panner&&i._panner.pan||t(i,a),"spatial"===a?void 0!==i._panner.positionX?(i._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):i._panner.setPosition(e,0,0):i._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",i._id)}}return r},Howl.prototype.pos=function(e,n,r,a){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(e,n,r,a)}}),s;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===a){if("number"!=typeof e)return s._pos;s._pos=[e,n,r]}for(var o=s._getSoundIds(a),i=0;i<o.length;i++){var u=s._soundById(o[i]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),s._emit("pos",u._id)}}return s},Howl.prototype.orientation=function(e,n,r,a){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(e,n,r,a)}}),s;if(n="number"!=typeof n?s._orientation[1]:n,r="number"!=typeof r?s._orientation[2]:r,void 0===a){if("number"!=typeof e)return s._orientation;s._orientation=[e,n,r]}for(var o=s._getSoundIds(a),i=0;i<o.length;i++){var u=s._soundById(o[i]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=s._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),s._emit("orientation",u._id)}}return s},Howl.prototype.pannerAttr=function(){var e,n,r,a=this,s=arguments;if(!a._webAudio)return a;if(0===s.length)return a._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return(r=a._soundById(parseInt(s[0],10)))?r._pannerAttr:a._pannerAttr;e=s[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),a._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:a._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:a._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:a._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:a._panningModel})}else 2===s.length&&(e=s[0],n=parseInt(s[1],10));for(var o=a._getSoundIds(n),i=0;i<o.length;i++)if(r=a._soundById(o[i])){var u=r._pannerAttr;u={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:u.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:u.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:u.panningModel};var l=r._panner;l?(l.coneInnerAngle=u.coneInnerAngle,l.coneOuterAngle=u.coneOuterAngle,l.coneOuterGain=u.coneOuterGain,l.distanceModel=u.distanceModel,l.maxDistance=u.maxDistance,l.refDistance=u.refDistance,l.rolloffFactor=u.rolloffFactor,l.panningModel=u.panningModel):(r._pos||(r._pos=a._pos||[0,0,-.5]),t(r,"spatial"))}return a},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n("yLpj"))},IOLr:function(e,t,n){"use strict";n.r(t);var r=n("Y9jf"),a=n("Ef4P"),s=n("Vg22"),o=n("pn57"),i=n("peh1"),u=n("CBLk"),l=n("wRpB"),c=Object(i.createStructuredSelector)({alphabeticalIsDifferent:l.a,alphabeticalOrder:l.b,canAccessStudyableFeatures:l.e,canEditRichText:l.h,canEditSet:l.i,customDistractorCountByTermId:l.s,hasAnyAnswers:l.H,isDiagramSet:l.Z,isDiagramSetLoadError:l.ab,isPopularSetByViews:l.qb,originalOrder:l.Mb,selectedOnly:l.Zb,set:l.cc,setPageMultipleEmbeddedAdsDesktopMaxAds:l.gc,setPageMultipleEmbeddedAdsDesktopMinTerms:l.hc,setPageMultipleEmbeddedAdsDesktopSpacing:l.ic,setPageMultipleEmbeddedAdsDesktopStartPosition:l.jc,setPageMultipleEmbeddedAdsMobileMaxAds:l.kc,setPageMultipleEmbeddedAdsMobileMinTerms:l.lc,setPageMultipleEmbeddedAdsMobileSpacing:l.mc,setPageMultipleEmbeddedAdsMobileStartPosition:l.nc,setPaths:l.oc,shouldShowAd:l.uc,shouldShowRichText:l.Ec,shouldShowSignupWall:l.Ic,shouldShowStickyBannerWithStudyButtons:l.Jc,showVerifiedUI:l.Pc,termIdToIsSelectedMap:l.bd,termIdToTermsMap:l.ed,termSort:l.cd,user:l.id,yourStatsChunks:l.qd});t.default=Object(s.connect)(c,(function(e){return{actions:Object(o.bindActionCreators)({changeTermSort:u.g,openSignupModal:u.E,openSignupModalLogin:u.F,changeIsSelectedOnly:u.f,writePreference:u.H},e)}}),null,{context:a.a,forwardRef:!0})(r.a)},KYVs:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("ma9I");var r=n("VbXa"),a=n.n(r),s=n("rfz2"),o=n("Uudg"),i=n("FFEN"),u=n("bvRJ"),l=n("z0Hl"),c=n("q1tI"),d=n.n(c),p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSelectAll=function(){t.props.onSelectAll(t.props.shortName,!t.props.hasAllSelected)},t}a()(t,e);var n=t.prototype;return n.getSelectButtonText=function(){return this.props.hasAllSelected?this.props.hasSomeSelected?d.a.createElement(o.a,{id:"set_page.term_chunks.deselect_all_starred_terms",numTerms:this.props.termCount}):d.a.createElement(o.a,{id:"set_page.term_chunks.deselect_these_starred_terms",numTerms:this.props.termCount}):this.props.hasSomeSelected?d.a.createElement(o.a,{id:"set_page.term_chunks.select_all_starred_terms",numTerms:this.props.termCount}):d.a.createElement(o.a,{id:"set_page.term_chunks.select_these_starred_terms",numTerms:this.props.termCount})},n.renderSelectedAllFilter=function(e){return d.a.createElement("div",{className:"SetPageTermChunk-selectAll"},d.a.createElement(l.a,{checked:this.props.hasAllSelected,onChange:this.handleSelectAll},d.a.createElement(u.a,{icon:e}),this.getSelectButtonText()))},n.render=function(){var e=this.props.hasAllSelected?"star":"star-empty";return d.a.createElement("div",{className:"SetPageTermChunk SetPageTermChunk--"+this.props.shortName},d.a.createElement("div",{className:"SetPageTermChunk-header"},d.a.createElement("div",{className:"SetPageTermChunk-heading"},d.a.createElement("span",{className:"SetPageTermChunk-title"},d.a.createElement(i.a,{deprecatedStyle:!0,size:4},this.props.title)),d.a.createElement("span",{className:"SetPageTermChunk-subtitle"},d.a.createElement(s.a,{component:"span",dangerouslySetInnerHTML:{__html:this.props.subtitle}}))),this.props.disableSelectedAllFilter?null:this.renderSelectedAllFilter(e)),this.props.children)},t}(d.a.PureComponent)},LGqQ:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n("TSYQ"),a=n.n(r),s=n("q1tI"),o=n.n(s);function i(e){var t=e.hasAdz,n=void 0!==t&&t,r=e.children,s=a()("SetPageTermsStickyBanner",{"SetPageTermsStickyBanner--hasAdz":n});return o.a.createElement("div",{className:s},o.a.createElement("div",{className:"SetPageTermsStickyBanner-container"},r))}var u=n("gOfv"),l=n("Uudg"),c=n("FFEN"),d=n("T3U7");function p(){Object(d.a)("set_page_sticky_banner_for_study_mode_flashcards_clicked")}function g(){Object(d.a)("set_page_sticky_banner_for_study_mode_learn_clicked")}function h(){Object(d.a)("set_page_sticky_banner_for_study_mode_match_clicked")}function m(e){return s.createElement(i,{hasAdz:e.hasAdz},s.createElement("div",{className:"SetPageStudyModesBanner-body"},s.createElement("div",{className:"SetPageStudyModesBanner-inner"},s.createElement("div",{className:"SetPageStudyModesBanner-text"},s.createElement(c.a,{deprecatedStyle:!0,size:4},s.createElement(l.a,{id:"set_page.sticky_banner_with_study_buttons.title"})),s.createElement("p",{className:"SetPageStudyModesBanner-subtitle"},s.createElement(l.a,{id:"set_page.sticky_banner_with_study_buttons.subtitle"}))),s.createElement("div",{className:"SetPageStudyModesBanner-cta"},s.createElement("div",{className:"SetPage-studyModeButtons"},s.createElement(u.a,{onClick:p,setId:e.set.id,variant:"small"})),s.createElement("div",{className:"SetPage-studyModeButtons"},s.createElement(u.c,{onClick:g,setId:e.set.id,variant:"small"})),s.createElement("div",{className:"SetPage-studyModeButtons"},s.createElement(u.e,{onClick:h,setId:e.set.id,variant:"small"}))))))}},M0cf:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));n("ma9I");var r=n("VbXa"),a=n.n(r),s=n("JYcJ"),o=n("3Sfj"),i=n("ykUF"),u=n("TSYQ"),l=n.n(u),c=n("x+ut"),d=n("zK28"),p=n("q1tI"),g=n.n(p),h=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this).state={adType:"",isAdHidden:!1,shouldUseAscendeum:!!(null==(t=d.a.adConfig)?void 0:t.shouldUseAscendeum)},n.handleEmptyCallback=function(){n.setState({isAdHidden:!0})},n.handleAdTypeCallback=function(){n.setState({adType:i.NATIVE})},n.renderAd=function(e){return n.state.shouldUseAscendeum?g.a.createElement(o.a,{headingAlignment:"centerAlign",id:e,onEmptyAdCallback:n.handleEmptyCallback}):g.a.createElement(c.a,{headingAlignment:"centerAlign",hideAdTimeout:1e3,id:e,onEmptyAdCallback:n.handleEmptyCallback,onNativeAd:n.handleAdTypeCallback})},n}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.termSort,r=this.state,a=r.adType;if(r.isAdHidden)return null;var s=l()("SetPageTerms-embeddedDesktopAdWrapper",{"SetPageTerms-fullFrame":a===i.NATIVE});return g.a.createElement("div",{className:s},g.a.createElement("div",{className:"SetPageTerms-embeddedDesktopAdz",key:"embedded-desktop-adz-"+n},this.renderAd(t)))},t}(g.a.Component),m="mweb_remove_ad",_=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this).state={adType:"",isAdHidden:!1,shouldUseAscendeum:!!(null==(t=d.a.adConfig)?void 0:t.shouldUseAscendeum)},n.handleEmptyCallback=function(){n.setState({isAdHidden:!0})},n.handleAdTypeCallback=function(){n.setState({adType:i.NATIVE})},n.renderAd=function(e){return n.state.shouldUseAscendeum?g.a.createElement(o.a,{id:e,onEmptyAdCallback:n.handleEmptyCallback}):g.a.createElement(c.a,{hideAdTimeout:1e3,id:e,onEmptyAdCallback:n.handleEmptyCallback,onNativeAd:n.handleAdTypeCallback,upgradeSource:m})},n}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.termSort,r=this.state,a=r.adType;if(r.isAdHidden)return null;var s=l()("SetPageTerms-embeddedMobileAdWrapper",{"SetPageTerms-fullFrame":a===i.NATIVE});return g.a.createElement("div",{className:s},g.a.createElement("div",{className:"SetPageTerms-embeddedMobileAdz",key:"embedded-adz-"+n},this.renderAd(t)))},t}(g.a.Component),f=function(e,t,n,r,a,s,o){void 0===o&&(o=null);var i=function(e,t,n,r,a,s){if(void 0===s&&(s=null),e<r||n<1||t<0)return 0;var o=e-(t+1)-(r-(t+1));return"experiment"===s&&(o=e-2*(t+1)),Math.min(Math.min(Math.floor(o/n)+1,a),10)}(t,n,r,a,s,o);return!(Math.floor((e-n)/r)>=i)&&function(e,t,n){return e>=t&&(e-t)%n==0}(e,n,r)},S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).getDesktopAdsIds=function(){return[s.SET_PAGE_EMBED_DESKTOP_MULTI_01,s.SET_PAGE_EMBED_DESKTOP_MULTI_02,s.SET_PAGE_EMBED_DESKTOP_MULTI_03,s.SET_PAGE_EMBED_DESKTOP_MULTI_04,s.SET_PAGE_EMBED_DESKTOP_MULTI_05,s.SET_PAGE_EMBED_DESKTOP_MULTI_06,s.SET_PAGE_EMBED_DESKTOP_MULTI_07,s.SET_PAGE_EMBED_DESKTOP_MULTI_08,s.SET_PAGE_EMBED_DESKTOP_MULTI_09,s.SET_PAGE_EMBED_DESKTOP_MULTI_10]},t.getMWebAdsIds=function(){return[s.SET_PAGE_EMBED_MWEB_MULTI_01,s.SET_PAGE_EMBED_MWEB_MULTI_02,s.SET_PAGE_EMBED_MWEB_MULTI_03,s.SET_PAGE_EMBED_MWEB_MULTI_04,s.SET_PAGE_EMBED_MWEB_MULTI_05,s.SET_PAGE_EMBED_MWEB_MULTI_06,s.SET_PAGE_EMBED_MWEB_MULTI_07,s.SET_PAGE_EMBED_MWEB_MULTI_08,s.SET_PAGE_EMBED_MWEB_MULTI_09,s.SET_PAGE_EMBED_MWEB_MULTI_10]},t.renderDesktopAdIfPossible=function(){var e=t.props,n=e.chunkSize,r=e.chunkTermIndex,a=e.placementVariant,s=e.setPageMultipleEmbeddedAdsDesktopMaxAds,o=e.setPageMultipleEmbeddedAdsDesktopMinTerms,i=e.setPageMultipleEmbeddedAdsDesktopStartPosition,u=e.setPageMultipleEmbeddedAdsDesktopSpacing,l=e.setTermCount,c=e.setTermIndex,d=r,p=n;if("experiment"===a&&(d=c,p=l),f(d,p,i,u,o,s,a)){var g=Math.floor((d-i)/u);return t.renderEmbeddedDesktopAd(t.getDesktopAdsIds()[g])}return null},t.renderMwebAdIfPossible=function(){var e=t.props,n=e.chunkSize,r=e.chunkTermIndex,a=e.placementVariant,s=e.setPageMultipleEmbeddedAdsMobileMinTerms,o=e.setPageMultipleEmbeddedAdsMobileMaxAds,i=e.setPageMultipleEmbeddedAdsMobileStartPosition,u=e.setPageMultipleEmbeddedAdsMobileSpacing,l=e.setTermCount,c=e.setTermIndex;if("stickyRemoveEmbed"===e.stickyAdMWebVariant)return null;var d=r,p=n;if("experiment"===a&&(d=c,p=l),f(d,p,i,u,s,o,a)){var g=Math.floor((d-i)/u);return t.renderMobileWebEmbeddedAd(t.getMWebAdsIds()[g])}return null},t.renderEmbeddedDesktopAd=function(e){return g.a.createElement("div",{className:"SetPageEmbeddedAd-wrapper"},g.a.createElement(h,{id:e,termSort:t.props.termSort}))},t.renderMobileWebEmbeddedAd=function(e){return g.a.createElement("div",{className:"SetPageEmbeddedAd-wrapper"},g.a.createElement(_,{id:e,termSort:t.props.termSort}))},t}return a()(t,e),t.prototype.render=function(){return this.props.shouldRenderEmbeddedAdsAsMobile?this.renderMwebAdIfPossible():this.renderDesktopAdIfPossible()},t}(g.a.PureComponent);S.defaultProps={placementVariant:null}},PyIS:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("qePV"),n("kSko");var r=null;function a(){if(null===r){var e=document.createElement("div");e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.width="100px",document.body&&document.body.appendChild(e),r=e.offsetWidth-e.clientWidth,document.body&&document.body.removeChild(e)}return Number.isNaN(r)?0:r}},T1Oo:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("ToJy");function r(e,t){if(null==e||null==t)return e===t;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}},Y9jf:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return K}));n("pNMO"),n("4Brf"),n("gXIK"),n("TeQF"),n("QWBl"),n("yXV3"),n("oVuX"),n("2B1R"),n("+2oP"),n("ToJy"),n("7+zs"),n("DQNa"),n("wLYn"),n("qePV"),n("zKZe"),n("tkto"),n("07d7"),n("4l63"),n("5s+n"),n("JfAA"),n("FZtP");var r=n("8OQS"),a=n.n(r),s=n("VbXa"),o=n.n(s),i=n("6MTt"),u=n("08um"),l=n("TSYQ"),c=n.n(l),d=n("wLt/"),p=n("M0cf"),g=n("KYVs"),h=n("h08k"),m=n("Uudg"),_=n("JxFz"),f=n("Pxp3"),S=n("bvRJ"),v=n("47yS"),T=n("0lcz"),b=n("og3H"),y=n("eLYi"),A=n("xisi"),E=n("p5lF"),w=n("TX86"),k=n.n(w),I=n("j2Rg"),x=n("w2yL"),P=n("sEfC"),C=n.n(P),M=n("X0lI"),L=n.n(M),O=n("q1tI"),B=n.n(O),D=n("H3z2"),R=n("jCse"),N=n("l6OD"),U=n("yckm"),F=n("8xMa"),j=n("C6mj"),W=n("T3U7"),V=n("gPdj"),H=n("Dgg+");function z(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var G="SetPage";function q(e){return Object.keys(e).filter((function(t){return e[t]})).length>0}var K=function(t){function n(e){var n;(n=t.call(this,e)||this).getToggledSelectState=function(e){var t=e.toString();return!n.state.termIdToIsSelectedMap[t]},n.getEmbeddedAdsPlacementVariant=function(){return n.shouldShowAds()?i.b.getVariationAndEnroll("SetPageEmbeddedAdsPlacement[default,ads]"):null},n.handlePressEscKey=function(){n.stopAudio(),n.resetCurrentAudioState()},n.handleChangeSort=function(e){var t=e.target.value;n.props.actions.changeTermSort(t),n.setState({lastSelectedTermId:null})},n.handleClickAudioIcon=function(e,t){n.stopAudio(),e===n.state.currentAudioTermId?n.resetCurrentAudioState():(n.setCurrentAudioTermId(e),n.playAudio(e,d.b,t).then((function(){clearTimeout(n.queuedAudio),n.queuedAudio=window.setTimeout((function(){return Object(V.a)(n.playAudio(e,d.a,t),n.resetCurrentAudioTermId)}),400)})).catch((function(){n.resetCurrentAudioTermId()})))},n.handleSelectTerm=function(e){var t=n.getToggledSelectState(e);n.selectTermIds([e],t),n.setState({lastSelectedTermId:e})},n.handleSelectTermsInRange=function(e,t){var r=n.getToggledSelectState(e),a=n.state.lastSelectedTermId;if(a){var s=t?n.getChunkTermsArray(t):n.getCurrentTermsArray(),o=s.indexOf(a);if(o<0)n.selectTermIds([e],r);else{var i=s.indexOf(e),u=s.slice(Math.min(o,i),Math.max(o,i)+1);n.selectTermIds(u,r)}}else n.selectTermIds([e],r);n.setState({lastSelectedTermId:e})},n.handleClickTermText=function(e){var t=e.termId,r=e.isSlow,a=e.side;n.stopAudio(),t===n.state.currentAudioTermId&&n.state.currentAudioSide===a?n.resetCurrentAudioState():(n.setCurrentAudioTermId(t),Object(V.a)(n.playAudio(t,a,r,!1),n.resetCurrentAudioTermId)),Object(W.a)("set_page_term_clicked",{side:a})},n.handleEditTerm=function(e,t,r,a,s){var o;Object(F.a)(e,{word:t,wordRichText:a,definition:r,definitionRichText:s},(function(t){if(!t.error&&t.responses&&t.responses[0].models){var r=t.responses[0].models.term[0];n.updateTermById(e,r)}}));var i=Object.assign({},n.state.termIdToIsLoadingMap,((o={})[e.toString()]=!0,o));n.setState({termIdToIsLoadingMap:i})},n.handleClickSeeMore=function(){Object(W.a)("set_page_see_more_clicked"),n.setState({isShowingAllTerms:!0})},n.handleSignupButtonInlineBanner=function(){Object(W.a)("set_page_signup_wall_email_button_clicked"),n.props.actions.openSignupModal()},n.handleSocialSignupButton=function(e){Object(W.a)("set_page_signup_wall_social_signup_button_clicked",{socialNetworkName:e})},n.handleToggleFilter=function(e){n.props.actions.changeIsSelectedOnly(e===h.a.STARRED),n.props.actions.writePreference({studySelected:e===h.a.STARRED})},n.handleToggleSelectChunk=function(e,t){var r=n.getChunkTermsArray(e);n.selectTermIds(r,t)},n.areElementBoundariesVisible=function(e){if(!e)return!1;var t=e.getBoundingClientRect();return t.top+136<=window.innerHeight&&t.bottom>window.innerHeight},n.resetCurrentAudioTermId=function(){n.setState({currentAudioTermId:null})},n.stopEventListeners=function(){n.eventListeners.forEach((function(e){return e.remove()}))},n.updateBreakpointChangeIfNeeded=function(){var e=Object(N.f)();e!==n.state.shouldRenderEmbeddedAdsAsMobile&&n.setState({shouldRenderEmbeddedAdsAsMobile:e},(function(){e?Object(W.a)("set_page_resize_rendering_mweb"):Object(W.a)("set_page_resize_rendering_desktop")}))},n.showStickyBannerOverTermsList=function(){n.state.isStickyBannerClosed||n.setState({isShowingStickyBanner:n.areElementBoundariesVisible(n.termsRef.current)})},n.selectTermIds=function(e,t){var r={};e.forEach((function(e){r[e]=t}));var a=n.state.termIdToIsSelectedMap,s=Object.assign({},a,r);n.setState({termIdToIsSelectedMap:s}),t?n.setHasTermsSelected():n.resetTermFilterIfNoSelectedTerms(s),function(e,t,n){var r=t?"/selected-terms":"/selected-terms/delete",a=e.map((function(e){return parseInt(e,10)})).join(",");A.a.post(r).send({setIds:n.set.id,termIds:a,source:b.kb.SETPAGE}).credentials().end((function(){}))}(e,t,n.props)},n.shouldShowEmbeddedAd=function(e,t){return!(!n.shouldShowAds()||!e||n.state.shouldShowSignupWall)&&("experiment"===n.state.embeddedAdsPlacementVariant||(""===t||"notStudied"===t))},n.eventListeners=[],n.termsRef=B.a.createRef(),n.soundPlayer=new R.a,e.shouldShowSignupWall&&(n.visitorHelper=new H.a);var r=n.props.termIdToIsSelectedMap,a=q(r),s=n.props.termIdToTermsMap;return n.state={alphabeticalOrder:e.alphabeticalOrder,currentAudioSide:null,currentAudioTermId:null,embeddedAdsPlacementVariant:n.getEmbeddedAdsPlacementVariant(),hasTermsSelected:a,isShowingAllTerms:!1,isShowingStickyBanner:!1,isStickyBannerClosed:!1,lastSelectedTermId:null,shouldRenderEmbeddedAdsAsMobile:Object(N.f)(),shouldShowSignupWall:n.hasVisitedEnoughToSeeSignupWall(),termIdToIsLoadingMap:{},termIdToIsSelectedMap:r,termIdToTermsMap:s},n}o()(n,t);var r=n.prototype;return r.componentDidMount=function(){this.bindKeys(),this.state.shouldShowSignupWall&&Object(W.a)("set_page_signup_wall_show"),this.registerListeners()},r.componentWillUnmount=function(){this.unbindKeys(),this.stopEventListeners()},r.getCurrentTermsArray=function(){return this.props.termSort===D.c.ALPHABETICAL?this.state.alphabeticalOrder:this.props.originalOrder},r.getChunkTermsArray=function(e){return this.props.termSort===D.c.YOUR_STATS&&this.props.yourStatsChunks[e]?this.props.yourStatsChunks[e].termIds:[]},r.renderTermsList=function(){var e=this.getCurrentTermsArray(),t=e.length;return this.shouldShowLimitedTerms()&&(t=150),this.state.shouldShowSignupWall&&(t=Math.min(10,t)),this.renderTermsFromIds(e,"",t)},r.renderLoadingIndicator=function(){return B.a.createElement(f.a,{className:"SetPageTerms-loadingContainer"},B.a.createElement("div",{className:"SetPageTerms-loadingIndicator"},B.a.createElement(v.a,{size:"large"})))},r.renderStatsChunks=function(e){var t=this,n=0,r=0;return Object.keys(e).map((function(a){var s=e[a],o=s.termIds.filter((function(e){return!0===t.state.termIdToIsSelectedMap[e.toString()]}));return t.props.selectedOnly&&0===o.length?null:(n+=r,r=s.termIds.length,B.a.createElement("div",{className:"SetPageTerms-chunkWrapper",key:"chunk-"+a},B.a.createElement(g.a,{disableSelectedAllFilter:t.props.selectedOnly,hasAllSelected:o.length===s.termIds.length,hasSomeSelected:o.length>0,onSelectAll:t.handleToggleSelectChunk,shortName:s.shortName,subtitle:s.subtitle,termCount:s.termIds.length,title:s.title},t.renderTermsFromIds(s.termIds,a,1/0,n))))}))},r.renderYourStats=function(){return B.a.createElement("div",{className:"SetPageTerms-yourStats"},this.renderStatsChunks(this.props.yourStatsChunks))},r.renderTermsView=function(){switch(this.props.termSort){case D.c.YOUR_STATS:return this.renderYourStats();default:return this.renderTermsList()}},r.renderUnlockAllTerms=function(){return B.a.createElement("div",{className:"SetPageTerms-unlockTerms"},B.a.createElement(S.a,{className:"SetPageTerms-unlockTermsIcon",icon:"lock"}),B.a.createElement("div",{className:"SetPageTerms-unlockTermsMessage"},B.a.createElement(m.a,{id:"purchasable_content.unlock_all_terms",numTerms:this.props.set.numTerms})))},r.renderSignupWallInline=function(){return B.a.createElement(x.a,{onEmailSignupButtonClicked:this.handleSignupButtonInlineBanner,onFacebookSignupButtonClicked:this.handleSocialSignupButton.bind(this,"facebook"),onGoogleSignupButtonClicked:this.handleSocialSignupButton.bind(this,"google"),onLoginLinkClicked:this.props.actions.openSignupModalLogin})},r.renderEditButton=function(){return B.a.createElement("div",{className:"SetPageTerms-editButtonWrapper"},B.a.createElement(_.a,{"aria-label":e("set_page.edit_set_button"),hero:!0,linkTo:this.props.setPaths.editBottom},e("set_page.edit_set_button")))},r.renderSeeMoreButton=function(){return B.a.createElement("div",{className:"SetPageTerms-seeMore"},B.a.createElement(_.a,{"aria-label":e("set_page.terms.load_more"),onClick:this.handleClickSeeMore,width:"fill"},e("set_page.terms.load_more")))},r.renderEmbeddedAd=function(e,t,n,r){return B.a.createElement(p.a,{chunkSize:t.length,chunkTermIndex:n,placementVariant:this.state.embeddedAdsPlacementVariant,setPageMultipleEmbeddedAdsDesktopMaxAds:this.props.setPageMultipleEmbeddedAdsDesktopMaxAds,setPageMultipleEmbeddedAdsDesktopMinTerms:this.props.setPageMultipleEmbeddedAdsDesktopMinTerms,setPageMultipleEmbeddedAdsDesktopSpacing:this.props.setPageMultipleEmbeddedAdsDesktopSpacing,setPageMultipleEmbeddedAdsDesktopStartPosition:this.props.setPageMultipleEmbeddedAdsDesktopStartPosition,setPageMultipleEmbeddedAdsMobileMaxAds:this.props.setPageMultipleEmbeddedAdsMobileMaxAds,setPageMultipleEmbeddedAdsMobileMinTerms:this.props.setPageMultipleEmbeddedAdsMobileMinTerms,setPageMultipleEmbeddedAdsMobileSpacing:this.props.setPageMultipleEmbeddedAdsMobileSpacing,setPageMultipleEmbeddedAdsMobileStartPosition:this.props.setPageMultipleEmbeddedAdsMobileStartPosition,setTermCount:this.getCurrentTermsArray().length,setTermIndex:r,shouldRenderEmbeddedAdsAsMobile:this.state.shouldRenderEmbeddedAdsAsMobile,termSort:this.props.termSort})},r.renderTermsFromIds=function(t,n,r,a){var s=this;void 0===n&&(n=""),void 0===r&&(r=1/0),void 0===a&&(a=0);var o=a;return t.map((function(a,i){var u=a.toString(),l=s.state.termIdToTermsMap[u],c=s.props.customDistractorCountByTermId[a]||0,d=i<r&&(!s.props.selectedOnly||!0===s.state.termIdToIsSelectedMap[u]),p="term-"+n+"-"+a,g={canAccessStudyableFeatures:s.props.canAccessStudyableFeatures,canEditRichText:s.props.canEditRichText,chunkName:n,customDistractorCount:c,isLoadingUpdate:!!s.state.termIdToIsLoadingMap[u],isPlayingAudio:l.id===s.state.currentAudioTermId,isSelected:s.state.termIdToIsSelectedMap[u],isShowing:d,onClickAudioIcon:s.handleClickAudioIcon,onClickStar:s.handleSelectTerm,onClickStarWithRange:s.handleSelectTermsInRange,onClickTermText:s.handleClickTermText,onEdit:s.handleEditTerm,shouldShowRichText:s.props.shouldShowRichText,shouldRenderScore:!1,showVerifiedUI:s.props.showVerifiedUI,term:l,termId:u},h=s.shouldShowEmbeddedAd(d,n)?s.renderEmbeddedAd(n,t,i,o):null;return o++,B.a.createElement(B.a.Fragment,{key:p},B.a.createElement("div",{"aria-label":e("cards_label.term"),className:"SetPageTerms-term"},B.a.createElement(y.a,g)),h)}))},r.renderStickyBannerWithStudyButtons=function(){return B.a.createElement(I.a,{hasAdz:this.shouldShowAds(),set:this.props.set})},r.renderPurchasableTermsView=function(){var e=this.props.set.numTerms<=6?Math.max(1,this.props.set.numTerms-2):5,t=this.getCurrentTermsArray().slice(0,e);return this.renderTermsFromIds(t)},r.renderTerms=function(){return B.a.createElement("div",{className:"SetPage-terms",ref:this.termsRef},B.a.createElement(h.b,{alphabeticalIsDifferent:this.props.alphabeticalIsDifferent,canAccessStudyableFeatures:this.props.canAccessStudyableFeatures,handleChangeSort:this.handleChangeSort,handleToggleFilter:this.handleToggleFilter,hasAnyAnswers:this.props.hasAnyAnswers,hasTermsSelected:this.state.hasTermsSelected,originalOrder:this.props.originalOrder,selectedOnly:this.props.selectedOnly,setId:this.props.set.id,showVerifiedUI:this.props.showVerifiedUI,termIdToIsSelectedMap:this.state.termIdToIsSelectedMap,termSort:this.props.termSort,user:this.props.user}),B.a.createElement("section",{className:"SetPageTerms-termsList"},this.shouldShowRentalBanner()?this.renderPurchasableTermsView():this.renderTermsView(),this.state.shouldShowSignupWall?this.renderSignupWallInline():null,this.shouldShowRentalBanner()?this.renderUnlockAllTerms():null),this.state.isShowingStickyBanner&&this.shouldShowStickyBannerWithStudyButtons()?this.renderStickyBannerWithStudyButtons():null,this.shouldShowLimitedTerms()?this.renderSeeMoreButton():null,this.props.canEditSet?this.renderEditButton():null)},r.render=function(){var e=c()("SetPageTerms-termsWrapper SetPage-termsList",{"is-purchasable":this.shouldShowRentalBanner()});return B.a.createElement(T.a,{"aria-labelledby":"SetPageTermsHeader-termsListHeading-"+this.props.set.id,className:e},this.renderTerms())},r.hasVisitedEnoughToSeeSignupWall=function(){return this.props.shouldShowSignupWall&&!!this.visitorHelper&&this.visitorHelper.visitCount>1},r.bindKeys=function(){k.a.pushScope(G),k()("esc",G,this.handlePressEscKey)},r.unbindKeys=function(){k.a.popScope(G),k.a.unbind("esc",G)},r.playAudio=function(t,n,r,a){var s=this;return void 0===r&&(r=!1),void 0===a&&(a=!0),new Promise((function(o,i){var u=L()(s.state.termIdToTermsMap[t.toString()]),l=u._wordAudioUrl;l&&!u.wordCustomAudioId&&(r&&u._wordSlowTtsUrl&&(l=u._wordSlowTtsUrl),s.soundPlayer.preload(l));var c=u._definitionAudioUrl;c&&!u.definitionCustomAudioId&&(r&&u._definitionSlowTtsUrl&&(c=u._definitionSlowTtsUrl),s.soundPlayer.preload(c));var p=n===d.b?l:c;if(!p)return o(),void s.setState({currentAudioSide:null});var g=function(){s.setState({currentAudioSide:null})};s.setState({currentAudioSide:n}),s.soundPlayer.play(p,{onStop:g,onFinish:function(){g(),o()},onError:function(){g(),a||alert(e("set_page.terms.term_play_audio_error")),i(new Error("Play error for "+p))}})}))},r.resetCurrentAudioState=function(){this.setState({currentAudioTermId:null,currentAudioSide:null})},r.setCurrentAudioTermId=function(e){this.setState({currentAudioTermId:e})},r.stopAudio=function(){this.soundPlayer.stopAll()},r.startEventListeners=function(e){var t=this,n=function(){e.forEach((function(e){return e()})),t.hasScheduledScrollRaf=!1};this.eventListeners.push(U.a.listen(window.document,"scroll",(function(){t.hasScheduledScrollRaf||(t.hasScheduledScrollRaf=!0,window.requestAnimationFrame((function(){return n()})))}))),this.eventListeners.push(U.a.listen(window,"resize",C()((function(){return n()}),100))),n()},r.registerListeners=function(){var e=[];this.shouldShowStickyBannerWithStudyButtons()&&e.push(this.showStickyBannerOverTermsList),e.push(this.updateBreakpointChangeIfNeeded),this.startEventListeners(e)},r.updateTermById=function(e,t){var n=e.toString(),r=Object.assign({},this.state.termIdToTermsMap,{termIdKey:t}),s=Object.keys(r).sort((function(e,t){return Object(E.a)(r[e].word,r[t].word)})).map((function(e){return parseInt(e,10)})),o=this.state.termIdToIsLoadingMap,i=(o[n],a()(o,[n].map(z)));this.setState({alphabeticalOrder:s,termIdToIsLoadingMap:i,termIdToTermsMap:r})},r.resetTermFilterIfNoSelectedTerms=function(e){q(e)||(this.props.actions.changeIsSelectedOnly(!1),this.setState({hasTermsSelected:!1}))},r.setHasTermsSelected=function(){this.state.hasTermsSelected||this.setState({hasTermsSelected:!0})},r.shouldShowStickyBannerWithStudyButtons=function(){return!this.state.shouldShowSignupWall&&this.props.shouldShowStickyBannerWithStudyButtons&&!Object(u.j)()},r.shouldShowLimitedTerms=function(){return!this.state.shouldShowSignupWall&&!this.state.isShowingAllTerms&&!this.props.selectedOnly&&this.props.termSort!==D.c.YOUR_STATS&&this.getCurrentTermsArray().length>=150},r.shouldShowRentalBanner=function(){return this.props.showVerifiedUI&&!this.props.canAccessStudyableFeatures},r.shouldShowAds=function(){return!Object(j.b)()&&this.props.shouldShowAd&&!this.props.showVerifiedUI},n}(B.a.PureComponent);K.defaultProps={canAccessStudyableFeatures:!1,isDiagramSet:!1,isDiagramSetLoadError:!1,selectedOnly:!1,showVerifiedUI:!1,yourStatsChunks:{}}}).call(this,n("nrsj").default)},eLYi:function(e,t,n){"use strict";n("fbCW");var r=n("lTK7"),a=n("Ef4P"),s=n("VSSp"),o=n("Vg22"),i=n("peh1"),u=n("wRpB"),l=Object(i.createStructuredSelector)({canEditSet:u.i,defLang:u.t,diagramImage:u.u,diagramShape:function(e,t){var n=Object(u.v)(e);return n?n.find((function(e){return""+e.termId===t.termId})):null},editWithPasswordPath:u.y,hasAudio:function(e,t){return null!==t.term._wordAudioUrl||null!==t.term._definitionAudioUrl},hasTooltips:u.O,isEditable:u.bb,isEditableWithPassword:u.cb,wordLang:u.pd});t.a=Object(o.connect)(l,null,null,{context:a.a})(Object(s.a)()(r.a))},h08k:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return m}));n("TeQF"),n("tkto");var r,a=n("VbXa"),s=n.n(a),o=n("1Pxe"),i=n("Pxp3"),u=n("Ahwr"),l=n("8DN3"),c=n("FFEN"),d=n("DhtV"),p=n("q1tI"),g=n.n(p),h=n("H3z2");!function(e){e.ALL="all",e.STARRED="starred"}(r||(r={}));var m=function(t){function n(){return t.apply(this,arguments)||this}s()(n,t);var a=n.prototype;return a.getNumStarred=function(){return e=this.props.termIdToIsSelectedMap,Object.keys(e).filter((function(t){return e[t]})).length;var e},a.renderFilterToggle=function(){return g.a.createElement("div",{className:"SetPageTermsHeader-filterToggle",key:"filterToggle"},g.a.createElement(l.a,{inline:!0,key:"filter-control"},g.a.createElement(d.b,{onChange:this.props.handleToggleFilter,value:this.props.selectedOnly?r.STARRED:r.ALL},g.a.createElement(d.a,{value:r.ALL},e("set_page.filter_options.all")),g.a.createElement(d.a,{value:r.STARRED},e("set_page.filter_options.starred",{numStarred:this.getNumStarred()})))))},a.renderSortOptions=function(){return g.a.createElement("div",{className:"SetPageTermsHeader-sortDropdown",key:"filterToggle"},g.a.createElement(l.a,{inline:!0,key:"sort-control"},g.a.createElement(u.a,{onChange:this.props.handleChangeSort,value:this.props.termSort},g.a.createElement("option",{value:h.c.ORIGINAL},e("set_page.term_ordering.original")),this.props.alphabeticalIsDifferent?g.a.createElement("option",{value:h.c.ALPHABETICAL},e("set_page.term_ordering.alphabetical")):null,this.props.hasAnyAnswers?g.a.createElement("option",{value:h.c.YOUR_STATS},e("set_page.term_ordering.your_stats")):null)))},a.renderControls=function(){return g.a.createElement(g.a.Fragment,null,this.shouldShowSortOptions()?this.renderSortOptions():null,g.a.createElement(o.CSSTransitionGroup,{component:g.a.Fragment,transitionName:"SetPageTermsHeader-filterToggleTransition"},this.shouldShowFilterToggle()?this.renderFilterToggle():null))},a.render=function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement(i.a,{className:"SetPageTermsHeader-termsListTitle"},this.shouldShowTermsCount()?g.a.createElement(c.a,{size:4},g.a.createElement("span",{id:"SetPageTermsHeader-termsListHeading-"+this.props.setId},e("set_page.terms.terms_title",{numTerms:this.props.originalOrder.length}))):null,g.a.createElement(o.CSSTransitionGroup,{className:"SetPageTermsHeader-controls SetPageTermsHeader-controls--main",component:"div",transitionName:"SetPageTermsHeader-filterToggleTransition"},this.shouldShowSortOptions()||this.shouldShowFilterToggle()?this.renderControls():null)))},a.shouldShowTermsCount=function(){return this.props.canAccessStudyableFeatures||!this.props.showVerifiedUI},a.shouldShowSortOptions=function(){return!!this.props.user&&(!(this.props.showVerifiedUI&&!this.props.canAccessStudyableFeatures)&&(this.props.alphabeticalIsDifferent||this.props.hasAnyAnswers))},a.shouldShowFilterToggle=function(){return!!this.props.user&&this.props.hasTermsSelected},n}(g.a.PureComponent);m.defaultProps={canAccessStudyableFeatures:!1,showVerifiedUI:!1}}).call(this,n("nrsj").default)},ifSZ:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var r=n("9WHe");function a(e){e?r.a.warning("Unknown language code",{language:e}):r.a.error("Empty language param",{language:e})}function s(t){switch(t){case"??":return e("languages_uppercase.unknown");case"af":return e("languages_uppercase.af");case"ak":return e("languages_uppercase.ak");case"akk":return e("languages_uppercase.akk");case"am":return e("languages_uppercase.am");case"ang":return e("languages_uppercase.ang");case"ar":return e("languages_uppercase.ar");case"ase":return e("languages_uppercase.ase");case"az":return e("languages_uppercase.az");case"be":return e("languages_uppercase.be");case"bg":return e("languages_uppercase.bg");case"bh":return e("languages_uppercase.bh");case"bn":return e("languages_uppercase.bn");case"bo":return e("languages_uppercase.bo");case"br":return e("languages_uppercase.br");case"bs":return e("languages_uppercase.bs");case"ca":return e("languages_uppercase.ca");case"ceb":return e("languages_uppercase.ceb");case"ch":return e("languages_uppercase.ch");case"chem":return e("languages_uppercase.chem");case"cho":return e("languages_uppercase.cho");case"chr":return e("languages_uppercase.chr");case"co":return e("languages_uppercase.co");case"cop":return e("languages_uppercase.cop");case"cs":return e("languages_uppercase.cs");case"cy":return e("languages_uppercase.cy");case"da":return e("languages_uppercase.da");case"de":return e("languages_uppercase.de");case"den":return e("languages_uppercase.den");case"dv":return e("languages_uppercase.dv");case"dyo":return e("languages_uppercase.dyo");case"el":return e("languages_uppercase.el");case"en":return e("languages_uppercase.en");case"eo":return e("languages_uppercase.eo");case"es":return e("languages_uppercase.es");case"et":return e("languages_uppercase.et");case"eu":return e("languages_uppercase.eu");case"fa":return e("languages_uppercase.fa");case"ff":return e("languages_uppercase.ff");case"fi":return e("languages_uppercase.fi");case"fil":return e("languages_uppercase.fil");case"fo":return e("languages_uppercase.fo");case"fr":return e("languages_uppercase.fr");case"fy":return e("languages_uppercase.fy");case"ga":return e("languages_uppercase.ga");case"gd":return e("languages_uppercase.gd");case"gl":return e("languages_uppercase.gl");case"gn":return e("languages_uppercase.gn");case"got":return e("languages_uppercase.got");case"gu":return e("languages_uppercase.gu");case"ha":return e("languages_uppercase.ha");case"hai":return e("languages_uppercase.hai");case"haw":return e("languages_uppercase.haw");case"hi":return e("languages_uppercase.hi");case"hil":return e("languages_uppercase.hil");case"hmv":return e("languages_uppercase.hmv");case"hr":return e("languages_uppercase.hr");case"ht":return e("languages_uppercase.ht");case"hu":return e("languages_uppercase.hu");case"hy":return e("languages_uppercase.hy");case"id":return e("languages_uppercase.id");case"ig":return e("languages_uppercase.ig");case"ipa":return e("languages_uppercase.ipa");case"is":return e("languages_uppercase.is");case"it":return e("languages_uppercase.it");case"iu":return e("languages_uppercase.iu");case"iw":return e("languages_uppercase.iw");case"ja":return e("languages_uppercase.ja");case"ja-ka":return e("languages_uppercase.ja_ka");case"ja-ro":return e("languages_uppercase.ja_ro");case"jv":return e("languages_uppercase.jv");case"ka":return e("languages_uppercase.ka");case"kg":return e("languages_uppercase.kg");case"kin":return e("languages_uppercase.kin");case"kio":return e("languages_uppercase.kio");case"kk":return e("languages_uppercase.kk");case"km":return e("languages_uppercase.km");case"kn":return e("languages_uppercase.kn");case"ko":return e("languages_uppercase.ko");case"ksw":return e("languages_uppercase.ksw");case"ku":return e("languages_uppercase.ku");case"ky":return e("languages_uppercase.ky");case"la":return e("languages_uppercase.la");case"lb":return e("languages_uppercase.lb");case"lkt":return e("languages_uppercase.lkt");case"ln":return e("languages_uppercase.ln");case"lo":return e("languages_uppercase.lo");case"lt":return e("languages_uppercase.lt");case"lua":return e("languages_uppercase.lua");case"luo":return e("languages_uppercase.luo");case"lv":return e("languages_uppercase.lv");case"math":return e("languages_uppercase.math");case"mg":return e("languages_uppercase.mg");case"mh":return e("languages_uppercase.mh");case"mi":return e("languages_uppercase.mi");case"mjd":return e("languages_uppercase.mjd");case"mk":return e("languages_uppercase.mk");case"ml":return e("languages_uppercase.ml");case"mn":return e("languages_uppercase.mn");case"mnk":return e("languages_uppercase.mnk");case"moh":return e("languages_uppercase.moh");case"mr":return e("languages_uppercase.mr");case"ms":return e("languages_uppercase.ms");case"mt":return e("languages_uppercase.mt");case"my":return e("languages_uppercase.my");case"nah":return e("languages_uppercase.nah");case"ne":return e("languages_uppercase.ne");case"nl":return e("languages_uppercase.nl");case"no":return e("languages_uppercase.no");case"nv":return e("languages_uppercase.nv");case"oc":return e("languages_uppercase.oc");case"oj":return e("languages_uppercase.oj");case"om":return e("languages_uppercase.om");case"ood":return e("languages_uppercase.ood");case"or":return e("languages_uppercase.or");case"pa":return e("languages_uppercase.pa");case"photo":return e("languages_uppercase.photo");case"pi":return e("languages_uppercase.pi");case"pl":return e("languages_uppercase.pl");case"ps":return e("languages_uppercase.ps");case"pt":return e("languages_uppercase.pt");case"qu":return e("languages_uppercase.qu");case"rar":return e("languages_uppercase.rar");case"rm":return e("languages_uppercase.rm");case"ro":return e("languages_uppercase.ro");case"ru":return e("languages_uppercase.ru");case"sa":return e("languages_uppercase.sa");case"sd":return e("languages_uppercase.sd");case"see":return e("languages_uppercase.see");case"shn":return e("languages_uppercase.shn");case"si":return e("languages_uppercase.si");case"sk":return e("languages_uppercase.sk");case"sl":return e("languages_uppercase.sl");case"sm":return e("languages_uppercase.sm");case"so":return e("languages_uppercase.so");case"sq":return e("languages_uppercase.sq");case"sr":return e("languages_uppercase.sr");case"su":return e("languages_uppercase.su");case"sv":return e("languages_uppercase.sv");case"sw":return e("languages_uppercase.sw");case"syc":return e("languages_uppercase.syc");case"ta":return e("languages_uppercase.ta");case"te":return e("languages_uppercase.te");case"tet":return e("languages_uppercase.tet");case"tg":return e("languages_uppercase.tg");case"th":return e("languages_uppercase.th");case"ti":return e("languages_uppercase.ti");case"tl":return e("languages_uppercase.tl");case"to":return e("languages_uppercase.to");case"tr":return e("languages_uppercase.tr");case"trc":return e("languages_uppercase.trc");case"tt":return e("languages_uppercase.tt");case"tyv":return e("languages_uppercase.tyv");case"ug":return e("languages_uppercase.ug");case"uk":return e("languages_uppercase.uk");case"unm":return e("languages_uppercase.unm");case"ur":return e("languages_uppercase.ur");case"uz":return e("languages_uppercase.uz");case"vi":return e("languages_uppercase.vi");case"win":return e("languages_uppercase.win");case"wo":return e("languages_uppercase.wo");case"xh":return e("languages_uppercase.xh");case"yi":return e("languages_uppercase.yi");case"yo":return e("languages_uppercase.yo");case"zh-CN":return e("languages_uppercase.zh_cn");case"zh-pi":return e("languages_uppercase.zh_pi");case"zh-TW":return e("languages_uppercase.zh_tw");case"zu":return e("languages_uppercase.zu");default:return a(t),t}}function o(t){switch(t){case"??":return e("languages.unknown");case"af":return e("languages.af");case"ak":return e("languages.ak");case"akk":return e("languages.akk");case"am":return e("languages.am");case"ang":return e("languages.ang");case"ar":return e("languages.ar");case"ase":return e("languages.ase");case"az":return e("languages.az");case"be":return e("languages.be");case"bg":return e("languages.bg");case"bh":return e("languages.bh");case"bn":return e("languages.bn");case"bo":return e("languages.bo");case"br":return e("languages.br");case"bs":return e("languages.bs");case"ca":return e("languages.ca");case"ceb":return e("languages.ceb");case"ch":return e("languages.ch");case"chem":return e("languages.chem");case"cho":return e("languages.cho");case"chr":return e("languages.chr");case"co":return e("languages.co");case"cop":return e("languages.cop");case"cs":return e("languages.cs");case"cy":return e("languages.cy");case"da":return e("languages.da");case"de":return e("languages.de");case"den":return e("languages.den");case"dv":return e("languages.dv");case"dyo":return e("languages.dyo");case"el":return e("languages.el");case"en":return e("languages.en");case"eo":return e("languages.eo");case"es":return e("languages.es");case"et":return e("languages.et");case"eu":return e("languages.eu");case"fa":return e("languages.fa");case"ff":return e("languages.ff");case"fi":return e("languages.fi");case"fil":return e("languages.fil");case"fo":return e("languages.fo");case"fr":return e("languages.fr");case"fy":return e("languages.fy");case"ga":return e("languages.ga");case"gd":return e("languages.gd");case"gl":return e("languages.gl");case"gn":return e("languages.gn");case"got":return e("languages.got");case"gu":return e("languages.gu");case"ha":return e("languages.ha");case"hai":return e("languages.hai");case"haw":return e("languages.haw");case"hi":return e("languages.hi");case"hil":return e("languages.hil");case"hmv":return e("languages.hmv");case"hr":return e("languages.hr");case"ht":return e("languages.ht");case"hu":return e("languages.hu");case"hy":return e("languages.hy");case"id":return e("languages.id");case"ig":return e("languages.ig");case"ipa":return e("languages.ipa");case"is":return e("languages.is");case"it":return e("languages.it");case"iu":return e("languages.iu");case"iw":return e("languages.iw");case"ja":return e("languages.ja");case"ja-ka":return e("languages.ja_ka");case"ja-ro":return e("languages.ja_ro");case"jv":return e("languages.jv");case"ka":return e("languages.ka");case"kg":return e("languages.kg");case"kin":return e("languages.kin");case"kio":return e("languages.kio");case"kk":return e("languages.kk");case"km":return e("languages.km");case"kn":return e("languages.kn");case"ko":return e("languages.ko");case"ksw":return e("languages.ksw");case"ku":return e("languages.ku");case"ky":return e("languages.ky");case"la":return e("languages.la");case"lb":return e("languages.lb");case"lkt":return e("languages.lkt");case"ln":return e("languages.ln");case"lo":return e("languages.lo");case"lt":return e("languages.lt");case"lua":return e("languages.lua");case"luo":return e("languages.luo");case"lv":return e("languages.lv");case"math":return e("languages.math");case"mg":return e("languages.mg");case"mh":return e("languages.mh");case"mi":return e("languages.mi");case"mjd":return e("languages.mjd");case"mk":return e("languages.mk");case"ml":return e("languages.ml");case"mn":return e("languages.mn");case"mnk":return e("languages.mnk");case"moh":return e("languages.moh");case"mr":return e("languages.mr");case"ms":return e("languages.ms");case"mt":return e("languages.mt");case"my":return e("languages.my");case"nah":return e("languages.nah");case"ne":return e("languages.ne");case"nl":return e("languages.nl");case"no":return e("languages.no");case"nv":return e("languages.nv");case"oc":return e("languages.oc");case"oj":return e("languages.oj");case"om":return e("languages.om");case"ood":return e("languages.ood");case"or":return e("languages.or");case"pa":return e("languages.pa");case"photo":return e("languages.photo");case"pi":return e("languages.pi");case"pl":return e("languages.pl");case"ps":return e("languages.ps");case"pt":return e("languages.pt");case"qu":return e("languages.qu");case"rar":return e("languages.rar");case"rm":return e("languages.rm");case"ro":return e("languages.ro");case"ru":return e("languages.ru");case"sa":return e("languages.sa");case"sd":return e("languages.sd");case"see":return e("languages.see");case"shn":return e("languages.shn");case"si":return e("languages.si");case"sk":return e("languages.sk");case"sl":return e("languages.sl");case"sm":return e("languages.sm");case"so":return e("languages.so");case"sq":return e("languages.sq");case"sr":return e("languages.sr");case"su":return e("languages.su");case"sv":return e("languages.sv");case"sw":return e("languages.sw");case"syc":return e("languages.syc");case"ta":return e("languages.ta");case"te":return e("languages.te");case"tet":return e("languages.tet");case"tg":return e("languages.tg");case"th":return e("languages.th");case"ti":return e("languages.ti");case"tl":return e("languages.tl");case"to":return e("languages.to");case"tr":return e("languages.tr");case"trc":return e("languages.trc");case"tt":return e("languages.tt");case"tyv":return e("languages.tyv");case"ug":return e("languages.ug");case"uk":return e("languages.uk");case"unm":return e("languages.unm");case"ur":return e("languages.ur");case"uz":return e("languages.uz");case"vi":return e("languages.vi");case"win":return e("languages.win");case"wo":return e("languages.wo");case"xh":return e("languages.xh");case"yi":return e("languages.yi");case"yo":return e("languages.yo");case"zh-CN":return e("languages.zh_cn");case"zh-pi":return e("languages.zh_pi");case"zh-TW":return e("languages.zh_tw");case"zu":return e("languages.zu");default:return a(t),t}}}).call(this,n("nrsj").default)},j2Rg:function(e,t,n){"use strict";n("07d7"),n("5s+n");var r=n("mr8R");t.a=Object(r.a)((function(){return Promise.all([n.e(0),n.e(153)]).then(n.bind(null,"LGqQ"))}),{withSpinner:!0})},jCse:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("QWBl"),n("07d7"),n("5s+n"),n("FZtP");var r=n("HlzF"),a=n("9WHe"),s=n("n29V"),o=!1,i=new s.a;function u(e,t,n){var a=new r.Howl({src:[e]});return a.once("load",(function(){t&&t(a.duration())})),a.once("loaderror",(function(){n&&n(e)})),a}function l(e,t){var n=t.onLoad,r=t.onError,a=t.onEnd,s=t.onStop,o=i.memoize(e,(function(){return u(e,n,r)}));return o.once("playerror",(function(){r&&r(e)})),o.once("end",(function(){a&&a(e)})),o.once("stop",(function(){s&&s(e)})),o}var c=function(){function e(){r.Howler.autoSuspend=!1,r.Howler.autoUnlock=!1}var t=e.prototype;return t.borrowWebAudioContext=function(){r.Howler.volume(1);var e=r.Howler.usingWebAudio?r.Howler.ctx:null;if(!e)return Promise.reject();switch(e.state){case"suspended":return e.resume().then((function(){return e}));case"running":return Promise.resolve(e);default:return Promise.reject()}},t.clearAllFinishListeners=function(){i.cache.forEach((function(e){e.off("end")}))},t.preload=function(e,t){var n=void 0===t?{}:t,r=n.onError,s=n.onLoad,l=i.get(e);if(s&&l&&"loaded"===l.state())s(l.duration());else try{i.memoize(e,(function(){return u(e,s,r)}))}catch(c){if(o)return;a.a.warning("AudioPlayer instance failed to loadClip in preload",c,{url:e}),o=!0}},t.play=function(e,t){var n=void 0===t?{}:t,r=n.onError,s=n.onFinish,o=n.onStop;try{l(e,{onError:r,onEnd:s,onStop:o}).play()}catch(i){a.a.error("AudioPlayer prepareClipToPlay failed in play()",i)}},t.loop=function(e,t){var n=void 0===t?{}:t,r=n.onError,s=n.onLoop,o=n.onStop;try{var i=l(e,{onError:r,onEnd:s,onStop:o}),u=i.play();i.loop(!0,u)}catch(c){a.a.error("AudioPlayer prepareClipToPlay failed in loop()",c)}},t.isPlaying=function(e){var t=i.get(e);return!!t&&t.playing()},t.destruct=function(e){var t=i.get(e);t&&(t.unload(),i.delete(e))},t.stop=function(e){var t=i.get(e);t&&(t.once("fade",(function(){t.stop(),t.volume(1)})),t.fade(1,0,300))},t.stopAll=function(){i.cache.forEach((function(e){return e.stop()}))},e}()},jiwd:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.WORD_SIDE="word",e.DEFINITION_SIDE="definition"}(r||(r={}))},kf70:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e&&t?JSON.stringify(e)===JSON.stringify(t):e===t}},"lCv/":function(e){e.exports=JSON.parse('{"af":["","","","","","","","","","","","","","","","","","","","","","",""],"akk":["","","","","","","","","","","","","","","","","","","","","","","",""],"ang":["","",""],"ar":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bg":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bs":["","","","",""],"chem":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cs":["","","","","","","","","p","","","","","","",""],"cy":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"da":["","",""],"de":["","","","",""],"dyo":["","","","","","",""],"el":["","","","","","","","","","","","","","","","","","","","","","","","",""],"es":["","","","","","","","","",""],"fi":["","",""],"fr":["","","","","","","","","","","","","",""],"gd":["","","","","","","","","",""],"ga":["","","","","","","","","",""],"hai":["g","k","x"],"haw":["","","","",""],"hr":["","","","",""],"hu":["","","","","","","","",""],"is":["","","","","","","","","","",""],"it":["","","","","","",""],"iw":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ku":["","","","","","","",""],"la":["","","","","","","",""],"lkt":["","","","","","","","","","","","","","","",""],"math":["+","","","","","%","=","","","","<",">","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","|","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"mi":["","","","",""],"nl":["","","","","","","","","","","","","","","","","","","","","","",""],"no":["","",""],"ood":["","","","","","","","",""],"pl":["","","","","","","","",""],"pt":["","","","","","","","","","","","",""],"rar":["","","","","","",""],"ro":["","","","","","",""],"ru":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sk":["","","","","","","","","","","","","","","","",""],"sr":["","","","",""],"sv":["","",""],"tet":["","","","","",""],"tr":["","","","","",""],"tyv":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"vi":["","","","","","","",""],"wo":["","","","","",""],"zh-pi":["","","","","","","","","","","","","","","","","","","","","","","","",""]}')},"lG1/":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n("ma9I"),n("+2oP"),n("zKZe"),n("5DmW");var r=n("pVnL"),a=n.n(r),s=n("8OQS"),o=n.n(s),i=n("VbXa"),u=n.n(i),l=n("1Pxe"),c=n("TSYQ"),d=n.n(c),p=n("nXOR"),g=n("qn7O"),h=n("V0yB"),m=n("X0lI"),_=n.n(m),f=n("q1tI"),S=n.n(f),v=n("qxWM"),T=n("T1Oo"),b=n("yckm"),y=n("PyIS"),A=n("W6SY"),E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isClicking:!1,isComponentFocused:!1},t.handleBlur=function(e){t.state.isClicking||t.setState({isComponentFocused:!1}),t.props.onBlur&&t.props.onBlur(e)},t.handleComponentFocus=function(e){t.setState({isComponentFocused:!0}),t.props.onFocus&&t.props.onFocus(e)},t.handleMouseUp=function(e){t.setState({isClicking:!1}),t.props.onMouseUp&&t.props.onMouseUp(e)},t.handleMouseDown=function(e){t.setState({isClicking:!0}),t.props.onNativeMouseDown&&t.props.onNativeMouseDown(e)},t.handleAccent=function(e){var n=_()(t.textareaRef.current,"Could not find text area component"),r=t.getSelectionStart(),a=t.getSelectionEnd();if(-1!==a){var s=t.getTextarea();if(s){var o=s.value||"",i=o.slice(0,r)+e+o.slice(a),u=window.document.createEvent("Event");u.initEvent("input",!0,!0);var l=s,c=Object.getOwnPropertyDescriptor(l.constructor.prototype,"value");(null==c?void 0:c.set)?c.set.call(l,i):l.value=i,l.dispatchEvent(u),t.setState({},(function(){return n.setCaretPosition(r+e.length)}))}}},t.wrapperRef=S.a.createRef(),t.textareaRef=S.a.createRef(),t}u()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.wrapperRef.current&&(this.wrapperMouseDownListener=b.a.listen(this.wrapperRef.current,"mousedown",this.handleMouseDown))},n.shouldComponentUpdate=function(e,t){return!Object(A.a)(this.props,e,["languageCodes"])||(!Object(A.a)(this.state,t)||!Object(T.a)(this.props.languageCodes,e.languageCodes))},n.componentWillUnmount=function(){this.wrapperMouseDownListener&&(this.wrapperMouseDownListener.remove(),this.wrapperMouseDownListener=null)},n.getCharactersByLang=function(){var e=v.a.getCharactersByLangForLangs(this.props.languageCodes);this.props.specificAccents.length>0&&this.props.languageCodes.length>0&&(e[this.props.languageCodes[0]]=this.props.specificAccents);return e},n.getSelectionStart=function(){return this.textareaRef.current?this.textareaRef.current.getSelectionStart():-1},n.getSelectionEnd=function(){return this.textareaRef.current?this.textareaRef.current.getSelectionEnd():-1},n.getTextarea=function(){return this.textareaRef.current?this.textareaRef.current.getTextarea():null},n.renderAccentsBar=function(){var e,t=d()("SpecialCharacterTextarea-accentsBar",((e={})["SpecialCharacterTextarea-accentsBar--"+this.props.textAreaVariant]=this.props.textAreaVariant&&"default"!==this.props.textAreaVariant,e));return S.a.createElement("div",{className:t},S.a.createElement("div",{className:"SpecialCharacterTextarea-accentsBarInner"},S.a.createElement("div",{className:"SpecialCharacterTextarea-accentBarWrap",style:{marginRight:Object(y.a)()}},S.a.createElement(g.a,{allowToggleUppercase:!0,charactersByLang:this.getCharactersByLang(),onClickButton:this.handleAccent,variant:"small"}))))},n.renderAccentButtonsInline=function(){return S.a.createElement(g.a,{allowToggleUppercase:!0,charactersByLang:this.getCharactersByLang(),onClickButton:this.handleAccent,showUppercaseButtonInline:!0,variant:"small"})},n.renderAccentsDropdown=function(){return S.a.createElement(l.CSSTransitionGroup,{transitionEnterTimeout:120,transitionLeaveTimeout:120,transitionName:"SpecialCharacterTextarea-animateAccentsBar"},this.state.isComponentFocused&&this.containsAccentLanguage()?this.renderAccentsBar():null)},n.render=function(){var e=this.props,t=(e.languageCodes,e.onFocus,e.specificAccents,e.variant,e.textAreaVariant),n=o()(e,["languageCodes","onFocus","specificAccents","variant","textAreaVariant"]),r=d()("SpecialCharacterTextarea",{"is-focused":this.state.isComponentFocused});return S.a.createElement("div",{className:r,onMouseUp:this.handleMouseUp,ref:this.wrapperRef},S.a.createElement(h.a,a()({},n,{onBlur:this.handleBlur,onFocus:this.handleComponentFocus,ref:this.textareaRef,variant:t})),S.a.createElement(p.a,{above:"s"},"inline"===this.props.variant?this.renderAccentButtonsInline():this.renderAccentsDropdown()))},n.focus=function(e){var t=_()(this.textareaRef.current,"Missing textareaRef in focus(number)");this.setState({isComponentFocused:!0}),t.focus(e)},n.blur=function(){var e=_()(this.textareaRef.current,"Missing textareaRef in blur()");this.setState({isComponentFocused:!1}),e.blur()},n.select=function(){_()(this.textareaRef.current,"Missing textareaRef in select()").select()},n.setCaretPosition=function(e){_()(this.textareaRef.current,"Missing textareaRef in setCaretPosition(number)").setCaretPosition(e)},n.setSelectionRange=function(e,t){_()(this.textareaRef.current,"Missing textarea in setSelectionRange(start, end)").setSelectionRange(e,t)},n.containsAccentLanguage=function(){return v.a.containsAccentLanguage(this.props.languageCodes)},t}(S.a.Component);E.defaultProps=Object.assign({},h.a.defaultProps,{languageCodes:[],specificAccents:[],type:"autoExpand",variant:"dropdown"})},lTK7:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return L}));n("TeQF"),n("+2oP"),n("SYor");var r=n("VbXa"),a=n.n(r),s=n("TSYQ"),o=n.n(s),i=n("7zzx"),u=n("wLt/"),l=n("HPId"),c=n("Uudg"),d=n("nXOR"),p=n("xqF0"),g=n("a08m"),h=n("jvKz"),m=n("FJLI"),_=n("vzun"),f=n("f4H6"),S=n("og3H"),v=n("JPcv"),T=n("NSD7"),b=n("q1tI"),y=n.n(b),A=n("i8i4"),E=n("RvVp"),w=n("xUBj"),k=n("/En6"),I=n("1Cun"),x=n("T3U7"),P=n("kf70"),C=n("EFuM"),M=function(e){return!!e.shiftKey},L=function(t){function n(e){var n;return(n=t.call(this,e)||this).getThumbnailUrl=function(e){var t=function(e){return Object(C.h)()?2*e:e};return new w.a(e).withFit("cover").withWidth(t(120)).withHeight(t(100)).getFullUrl()},n.handleClickWord=function(e){n.props.onClickTermText({termId:n.props.term.id,isSlow:M(e),side:u.b}),n.props.hasAudio&&Object(I.a)({termId:n.props.term.id,language:n.props.wordLang,playbackAction:S.h.WORD,termSide:S.Ib.WORD},{custom_audio_id:n.props.term.wordCustomAudioId})},n.handleClickDefinition=function(e){n.props.onClickTermText({termId:n.props.term.id,isSlow:M(e),side:u.a}),n.props.hasAudio&&Object(I.a)({termId:n.props.term.id,language:n.props.defLang,playbackAction:S.h.DEFINITION,termSide:S.Ib.DEFINITION},{custom_audio_id:n.props.term.definitionCustomAudioId})},n.handleClickAudioIcon=function(e){n.props.onClickAudioIcon(n.props.term.id,M(e)),Object(x.a)("set_page_audio_clicked");var t=JSON.stringify({wordLang:n.props.wordLang,defLang:n.props.defLang});Object(I.a)({termId:n.props.term.id,language:t,playbackAction:S.h.AUDIO_BUTTON,termSide:S.Ib.UNKNOWN})},n.handleClickStar=function(e){var t=n.props.term.id;e.shiftKey?n.props.onClickStarWithRange(t,n.props.chunkName):n.props.onClickStar(t),Object(x.a)("set_page_star_clicked")},n.handleClickDocument=function(e){if(n.state.isEditing){var t=Object(A.findDOMNode)(n.wordText),r=Object(A.findDOMNode)(n.definitionText),a=Object(A.findDOMNode)(n.editButton);e.target===t||(null==t?void 0:t.contains(e.target))||e.target===r||(null==r?void 0:r.contains(e.target))||e.target===a||(null==a?void 0:a.contains(e.target))||n.finishEditing(!0)}},n.handleClickToZoom=function(e){e.preventDefault(),e.stopPropagation(),n.zoomableImage&&n.zoomableImage.show()},n.handleEditorKeyDown=function(e){switch(e.keyCode){case 27:e.preventDefault(),n.finishEditing(!1);break;case 13:if(e.shiftKey)break;e.preventDefault(),n.finishEditing(!0)}},n.handlePlainTextEditorKeyDown=function(e){n.handleEditorKeyDown(e.nativeEvent)},n.handleRichTextEditorKeyDown=function(e){return n.handleEditorKeyDown(e),27===e.keyCode||13===e.keyCode&&!e.shiftKey},n.handleWordChange=function(e){n.setState({editedWord:e.plain,editedWordRichText:e.rich})},n.handleDefinitionChange=function(e){n.setState({editedDefinition:e.plain,editedDefinitionRichText:e.rich})},n.handleClickEditIcon=function(){Object(x.a)("set_page_inline_edit_clicked"),n.state.isEditing?n.finishEditing(!0):n.props.canEditSet?n.startEditing():window.location.href=n.props.editWithPasswordPath},n.handleExpandSides=function(){n.setState({isExpanded:!0})},n.state={isEditing:!1,isExpanded:!1,editedWord:null,editedWordRichText:null,editedDefinition:null,editedDefinitionRichText:null,updatedTerm:{word:n.props.term.word,wordRichText:null,definition:n.props.term.definition,definitionRichText:null}},n}a()(n,t);var r=n.prototype;return r.componentDidMount=function(){window.document.addEventListener("click",this.handleClickDocument)},r.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickDocument)},r.getDefinitionSideSize=function(){return Object(v.List)([this.props.term.definition,this.props.term._imageUrl]).filter((function(e){return e})).count()},r.getNumberOfSides=function(){return Object(v.List)([this.props.term.word,this.props.diagramShape]).filter((function(e){return e})).count()+this.getDefinitionSideSize()},r.getNumberOfRows=function(){return(this.props.term.word?1:0)+(this.getDefinitionSideSize()>0?1:0)+(this.shouldShowDiagramShape()?1:0)+(this.shouldShowCategoryLabel()?1:0)},r.renderImage=function(t){var n=this,r=Object(k.b)(t),a=".gif"===r.slice(-4),s=a?r:this.getThumbnailUrl(r),i=o()("SetPageTerm-image",{"is-animatedGif":a}),u=e("set_page.terms.image_alt")+": "+this.props.term.word;return y.a.createElement("div",{className:"SetPageTerm-imageWrap"},y.a.createElement(f.a,{alt:u,className:i,height:100,onClick:this.handleClickToZoom,ref:function(e){n.zoomableImage=e},src:s,width:120,zoomUrl:r}))},r.renderStarIcon=function(){var t=y.a.createElement(p.a,{alt:e("modes.cards.card_controls.star"),icon:"star",onClick:this.handleClickStar,variant:"borderless"});return!this.props.hasTooltips||Object(C.g)()||Object(C.k)()?t:y.a.createElement(h.a,{overlay:y.a.createElement(_.a,null,y.a.createElement(c.a,{id:"set_page.term_detail_tooltips.star_title"})),position:"top",triggerAction:"hover"},t)},r.renderAudioIcon=function(){var t=this.props.hasAudio?this.handleClickAudioIcon:void 0,n=y.a.createElement(p.a,{alt:e("modes.cards.card_controls.audio"),disabled:!this.props.hasAudio,icon:"audio",onClick:t,variant:"borderless"});if(this.props.hasAudio&&!this.props.hasTooltips||Object(C.g)()&&Object(C.k)())return n;var r=this.props.hasAudio?y.a.createElement(_.a,null,y.a.createElement(c.a,{id:"set_page.terms.term_audio_tooltip"})):y.a.createElement(_.a,null,y.a.createElement(c.a,{id:"set_page.terms.term_audio_unavailable_tooltip"}));return y.a.createElement(h.a,{overlay:r,position:"top right",triggerAction:"hover"},n)},r.renderActions=function(){var t=this;return this.props.showVerifiedUI&&!this.props.canAccessStudyableFeatures?null:y.a.createElement("div",{className:"SetPageTerm-actions"},this.props.shouldShowStarIcon?y.a.createElement("span",{className:"SetPageTerm-star"},this.renderStarIcon()):null,this.props.shouldShowAudioIcon?y.a.createElement("span",{className:"SetPageTerm-audio"},this.renderAudioIcon()):null,this.props.isEditable?y.a.createElement("span",{className:"SetPageTerm-edit"},y.a.createElement(p.a,{alt:e("modes.cards.card_controls.edit"),icon:"edit",onClick:this.handleClickEditIcon,ref:function(e){t.editButton=e},variant:"borderless"})):null)},r.renderWordText=function(){var e=this;return y.a.createElement(i.a,{autoFocus:!0,canEditRichText:this.props.canEditRichText,isEditing:this.state.isEditing,lang:this.props.wordLang,onChange:this.handleWordChange,onKeyDown:this.handlePlainTextEditorKeyDown,onRichTextKeyDown:this.props.shouldShowRichText?this.handleRichTextEditorKeyDown:null,ref:function(t){e.wordTermText=t},shouldShowRichText:this.props.shouldShowRichText,shouldUseLanguageLabel:this.shouldUseLanguageLabel(),side:u.b,term:this.props.isLoadingUpdate?this.state.updatedTerm:this.props.term})},r.renderDefinitionText=function(){return y.a.createElement(i.a,{canEditRichText:this.props.canEditRichText,isEditing:this.state.isEditing,lang:this.props.defLang,onChange:this.handleDefinitionChange,onKeyDown:this.handlePlainTextEditorKeyDown,onRichTextKeyDown:this.props.shouldShowRichText?this.handleRichTextEditorKeyDown:null,shouldShowRichText:this.props.shouldShowRichText,shouldUseLanguageLabel:this.shouldUseLanguageLabel(),side:u.a,term:this.props.isLoadingUpdate?this.state.updatedTerm:this.props.term})},r.renderWordSide=function(){var e=this,t=!this.state.isEditing&&this.props.shouldShowAudioIcon&&this.props.term._wordAudioUrl?y.a.createElement("a",{className:"SetPageTerm-wordText",onClick:this.handleClickWord},this.renderWordText()):y.a.createElement("span",{className:"SetPageTerm-wordText",ref:function(t){e.wordText=t}},this.renderWordText()),n=o()("SetPageTerm-side",{"SetPageTerm-smallSide":2===this.getNumberOfRows()});return y.a.createElement("div",{className:n},this.shouldShowSideLabels()&&y.a.createElement("div",{className:"SetPageTerm-sideLabel"},y.a.createElement(c.a,{id:"cards_label.term"})),y.a.createElement("div",{className:"SetPageTerm-sideContent"},t))},r.renderDefinition=function(){var e=this;return!this.state.isEditing&&this.props.shouldShowAudioIcon&&this.props.term._definitionAudioUrl?y.a.createElement("a",{className:"SetPageTerm-definitionText",onClick:this.handleClickDefinition},this.renderDefinitionText()):y.a.createElement("span",{className:"SetPageTerm-definitionText",ref:function(t){e.definitionText=t}},this.renderDefinitionText())},r.renderDefinitionSide=function(){var e=o()("SetPageTerm-side",{"SetPageTerm-largeSide":2===this.getNumberOfRows()});return y.a.createElement("div",{className:e},this.shouldShowSideLabels()&&y.a.createElement("div",{className:"SetPageTerm-sideLabel"},y.a.createElement(c.a,{id:"cards_label.definition"})),y.a.createElement("div",{className:"SetPageTerm-sideContent"},this.props.term.definition||!this.props.term._imageUrl?this.renderDefinition():null,this.props.term._imageUrl?this.renderImage(this.props.term._imageUrl):null,this.props.customDistractorCount&&this.props.customDistractorCount>0?y.a.createElement(l.a,{distractorCount:this.props.customDistractorCount}):null))},r.renderCategorySide=function(){var e={backgroundColor:this.props.categoryColor},t=o()("SetPageTerm-side",{"SetPageTerm-largeSide":2===this.getNumberOfRows()});return y.a.createElement("div",{className:t},this.shouldShowSideLabels()&&y.a.createElement("div",{className:"SetPageTerm-sideLabel"},y.a.createElement(c.a,{id:"cards_label.category"})),y.a.createElement("div",{className:"SetPageTerm-sideContent"},y.a.createElement("div",{className:"SetPageTerm-category",style:e},this.props.categoryLabel)))},r.renderLocationSide=function(){var e=o()("SetPageTerm-side",{"SetPageTerm-largeSide":2===this.getNumberOfRows()});return y.a.createElement("div",{className:e},this.shouldShowSideLabels()&&y.a.createElement("div",{className:"SetPageTerm-sideLabel"},y.a.createElement(c.a,{id:"cards_label.location"})),y.a.createElement("div",{className:"SetPageTerm-sideContent"},y.a.createElement("div",{className:"SetPageTerm-diagram"},y.a.createElement(T.a,{diagramShape:Object(v.fromJS)(this.props.diagramShape),image:Object(v.fromJS)(this.props.diagramImage)}))))},r.renderScorePopover=function(){return y.a.createElement(m.a,{includeArrowInBounds:!0},y.a.createElement("div",{className:"SetPageTerm-scorePopover"},this.props.scorePopoverContent))},r.renderScore=function(){return y.a.createElement("div",{className:"SetPageTerm-score"},y.a.createElement(h.a,{className:"SetPageTerm-scoreOverlay",overlay:this.renderScorePopover(),position:"bottom left",triggerAction:"hover"},y.a.createElement("span",{className:"SetPageTerm-scoreText"},this.props.score)))},r.renderExpandLink=function(){return y.a.createElement("div",{className:"SetPageTerm-moreSide"},y.a.createElement(g.a,{onClick:this.handleExpandSides},y.a.createElement(c.a,{id:"set_page.terms.expand_sides_link",num:this.getNumberOfSides()-3})))},r.render=function(){var e=o()("SetPageTerm",{"has-image":!!this.props.term._imageUrl,"has-definitionText":!!this.props.term.definition,"has-score":this.props.shouldRenderScore,"has-threeActions":this.props.isEditable,"is-editing":this.state.isEditing,"is-loading":this.props.isLoadingUpdate,"is-playing":this.props.isPlayingAudio,"is-selected":this.props.isSelected,"is-showing":this.props.isShowing});return y.a.createElement("div",{className:e},y.a.createElement("div",{className:"SetPageTerm-inner"},y.a.createElement(d.a,{below:"s"},this.renderActions()),this.props.shouldRenderScore?this.renderScore():null,y.a.createElement("div",{className:"SetPageTerm-contentWrapper"},y.a.createElement("div",{className:"SetPageTerm-content"},this.renderWordSide(),this.shouldShowDefinitionSide()?this.renderDefinitionSide():null,this.shouldShowExpandLink()?this.renderExpandLink():null,this.shouldShowDiagramShape()?this.renderLocationSide():null,this.shouldShowCategoryLabel()?this.renderCategorySide():null)),y.a.createElement(d.a,{above:"s"},this.renderActions())))},r.hasEditChanges=function(){var e=this.state,t=e.editedWord,n=e.editedDefinition,r=e.editedWordRichText,a=e.editedDefinitionRichText,s=this.props.term,o=!!t&&t.trim().length>0,i=t!==s.word||!Object(P.a)(r,s.wordRichText),u=!!n&&n.trim().length>0,l=n!==s.definition||!Object(P.a)(a,s.definitionRichText);return o&&i||u&&l},r.shouldShowExpandLink=function(){return this.getNumberOfSides()>3&&!this.state.isExpanded},r.shouldShowDiagramShape=function(){return this.props.diagramShape&&this.props.isShowing&&((this.props.term.word?1:0)+this.getDefinitionSideSize()<3||this.state.isExpanded)},r.shouldShowCategoryLabel=function(){return!!this.props.categoryLabel&&(this.getNumberOfSides()<=3||this.state.isExpanded)},r.shouldShowDefinitionSide=function(){return this.getDefinitionSideSize()>0||!this.props.diagramShape},r.shouldUseLanguageLabel=function(){return this.props.wordLang!==this.props.defLang},r.shouldShowSideLabels=function(){return!(!this.props.diagramShape&&!this.props.categoryLabel)},r.startEditing=function(){this.setState({isEditing:!0})},r.finishEditing=function(e){var t=this.props.term.word,n=this.props.term.definition,r=this.props.term.wordRichText||Object(E.c)(this.props.term.word),a=this.props.term.definitionRichText||Object(E.c)(this.props.term.definition);e&&this.hasEditChanges()&&(this.state.editedWord&&(t=this.state.editedWord),this.state.editedDefinition&&(n=this.state.editedDefinition),this.state.editedWordRichText&&(r=this.state.editedWordRichText),this.state.editedDefinitionRichText&&(a=this.state.editedDefinitionRichText),this.props.onEdit(this.props.term.id,t,n,r,a)),this.setState({isEditing:!1,editedWord:null,editedDefinition:null,updatedTerm:{word:t,wordRichText:r,definition:n,definitionRichText:a}})},n}(y.a.PureComponent);L.defaultProps={canAccessStudyableFeatures:!1,showVerifiedUI:!1,shouldShowStarIcon:!0,shouldShowAudioIcon:!0}}).call(this,n("nrsj").default)},mmUd:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("zK28"),a=function(){return!(!r.a.user||r.a.user.isVerified||0!==r.a.user.type&&3!==r.a.user.type)}},qn7O:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("ma9I"),n("QWBl"),n("yXV3"),n("2B1R"),n("ToJy"),n("tkto"),n("FZtP");var r=n("pVnL"),a=n.n(r),s=n("VbXa"),o=n.n(s),i=n("TSYQ"),u=n.n(i),l=n("bvRJ"),c=n("q1tI"),d=n.n(c),p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.onClick(t.props.character,e)},t}return o()(t,e),t.prototype.render=function(){return d.a.createElement("button",{className:"UISpecialCharacterButton UISpecialCharacterButton--"+this.props.variant+" TermText lang-"+this.props.lang,disabled:this.props.disabled,lang:this.props.lang,onClick:this.handleClick,type:"button",value:this.props.character},this.props.character)},t}(d.a.PureComponent);p.defaultProps={disabled:!1,variant:"default"};var g=n("z0Hl"),h=n("p5lF"),m=n("W6SY");function _(e,t){return Object(h.a)(e.character,t.character)}var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isUppercase:!1},t.handleToggleUppercase=function(){t.setState({isUppercase:!t.state.isUppercase})},t}o()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){var n=this;if(!Object(m.a)(this.props,e,["charactersByLang"]))return!0;if(!Object(m.a)(this.state,t))return!0;if(Object.keys(this.props.charactersByLang).length!==Object.keys(e.charactersByLang).length)return!0;var r=!1;return Object.keys(this.props.charactersByLang).forEach((function(t){if(!r){var a=n.props.charactersByLang[t],s=e.charactersByLang[t];s?(a.length!==s.length&&(r=!0),a=a.sort(),s=s.sort(),a.forEach((function(e,t){r||e!==s[t]&&(r=!0)}))):r=!0}})),r},n.getCharactersByLangToRender=function(){var e=this,t=[],n=[];return Object.keys(this.props.charactersByLang).forEach((function(r){e.props.charactersByLang[r].forEach((function(a){var s=e.state.isUppercase?a.toUpperCase():a;-1!==t.indexOf(s)||(t.push(s),n.push({character:s,lang:r}))}))})),n.sort(_)},n.renderAccents=function(){var e=this;return this.getCharactersByLangToRender().map((function(t,n){var r=t.character,s=t.lang;return d.a.createElement("span",{className:"UISpecialCharacterButtonGroup-button",key:n},d.a.createElement(p,a()({character:r,lang:s,variant:e.props.variant},{onClick:e.props.onClickButton})))}))},n.renderUppercaseToggle=function(){return this.props.showUppercaseButtonInline?this.renderInlineUppercaseSwitch():this.renderUppercaseIcon()},n.renderInlineUppercaseSwitch=function(){return d.a.createElement("div",{className:"UISpecialCharacterButtonGroup-uppercaseSwitch"},d.a.createElement(g.a,{checked:this.state.isUppercase,onChange:this.handleToggleUppercase},d.a.createElement(l.a,{className:"UISpecialCharacterButton-uppercaseIcon",icon:"chevron-up-underline"})))},n.renderUppercaseIcon=function(){var e=u()("UISpecialCharacterButtonGroup-button","UISpecialCharacterButtonGroup-uppercaseButton","UISpecialCharacterButtonGroup-uppercaseButton--"+this.props.variant,{"is-enabled":this.state.isUppercase});return d.a.createElement("span",{className:e,onClick:this.handleToggleUppercase},d.a.createElement(l.a,{className:"UISpecialCharacterButton-uppercaseIcon",icon:"chevron-up-underline"}))},n.render=function(){return d.a.createElement("div",{className:"UISpecialCharacterButtonGroup"},this.renderAccents(),this.props.allowToggleUppercase&&this.hasDifferentUppercaseCharacters()?this.renderUppercaseToggle():null)},n.hasDifferentUppercaseCharacters=function(){var e=this,t=!1;return Object.keys(this.props.charactersByLang).forEach((function(n){t||e.props.charactersByLang[n].forEach((function(e){t||e!==e.toUpperCase()&&(t=!0)}))})),t},t}(d.a.Component);f.defaultProps={allowToggleUppercase:!1,showUppercaseButtonInline:!1,variant:"default"}},qxWM:function(e,t,n){"use strict";n("TeQF"),n("QWBl"),n("yXV3"),n("Rfxz"),n("FZtP");var r=n("lCv/"),a=n("qiyg"),s=n("N4t/"),o=n("PqR9"),i={containsAccentLanguage:function(e){return Object(s.a)(e).some((function(e){return e in r&&r[e].length>0}))},containsHardLanguage:function(e){return Object(s.a)(e).some((function(e){return a.hardLanguages.indexOf(e)>-1}))},getCharactersByLangForLangs:function(e){var t={};return Object(o.a)(e).filter((function(e){return e})).forEach((function(e){t[e]=r[e]||[]})),t}};t.a=i},rfz2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI");function a(e){var t=e.className,n=e.component,a=e.dangerouslySetInnerHTML;return Object(r.createElement)(n,{className:t,dangerouslySetInnerHTML:a})}a.defaultProps={component:"div"}},w2yL:function(e,t,n){"use strict";n("07d7"),n("5s+n");var r=n("mr8R");t.a=Object(r.a)((function(){return Promise.all([n.e(0),n.e(153)]).then(n.bind(null,"4CRz"))}),{withSpinner:!0})},"wLt/":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return T}));n("ma9I"),n("2B1R"),n("rB9j"),n("Rm1S"),n("EnZy");var r=n("pVnL"),a=n.n(r),s=n("VbXa"),o=n.n(s),i=n("TSYQ"),u=n.n(i),l=n("jiwd"),c=n("q1tI"),d=n.n(c),p=n("4HzQ"),g=n.n(p),h=n("kNXE"),m=n("+IfW"),_=/\*([^*\n\r]+)\*/g,f=/\*[^*\n\r]+\*/g,S=/(\r\n|\n\r|\r|\n)/,v=l.a.WORD_SIDE,T=l.a.DEFINITION_SIDE;function b(e){var t=e.split(f),n=[],r=0;t[r]&&n.push(t[r]),r+=1;for(var a=_.exec(e);a;)n.push(d.a.createElement("b",{key:"md-"+r},a[1])),t[r]&&n.push(t[r]),r++,a=_.exec(e);return n}var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).getJsxFromStr=function(e){var n=e;t.props.maxLength&&(n=Object(m.a)(n,t.props.maxLength));var r=0;return n.split(S).map((function(e){return e.match(S)?d.a.createElement("br",{key:"key-"+r++}):"math"!==t.props.lang&&"chem"!==t.props.lang?b(e):e}))},t.renderRichText=function(e){return d.a.createElement(h.a,{allowRtl:t.props.allowRtl,lang:t.props.lang,pmJson:e})},t.renderText=function(){if(t.props.side===v)return t.props.shouldShowRichText&&t.props.term.wordRichText?t.renderRichText(t.props.term.wordRichText):t.getJsxFromStr(t.props.term.word||"...");if(t.props.shouldShowRichText&&t.props.term.definitionRichText)return t.renderRichText(t.props.term.definitionRichText);var e=t.props.term.definition;return e||t.props.term._imageUrl||(e="..."),t.getJsxFromStr(e)},t}return o()(t,e),t.prototype.render=function(){var e=u()("TermText","notranslate",this.props.className,"lang-"+this.props.lang);if(this.props.textfit){var t="boolean"==typeof this.props.textfit?{}:this.props.textfit;return d.a.createElement(g.a,a()({className:e},t),this.renderText())}return d.a.createElement("span",{className:e},this.renderText())},t}(d.a.PureComponent);t.c=y}}]);