(window.QJP=window.QJP||[]).push([[131],{"0qdk":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r,o=n("mEm4");!function(e){e[e.NONE=0]="NONE",e[e.SHOULD_REQUEST=1]="SHOULD_REQUEST",e[e.AWAITING_RESPONSE=2]="AWAITING_RESPONSE",e[e.SUCCESS=3]="SUCCESS",e[e.TIMEOUT=4]="TIMEOUT",e[e.SERVER_ERROR=5]="SERVER_ERROR"}(r||(r={}));var a=Object(o.a)("REPORT_MODAL",{UPDATE_ANSWER:null,UPDATE_ASYNC_REQUEST_STATUS:null,UPDATE_REASON:null,UPDATE_SHOW_ASYNC_STATUS:null,POP_PANEL:null,PUSH_PANEL:null,SUBMIT_PANEL:null})},"36r5":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("VbXa"),o=n.n(r),a=n("dxfC"),s=n("9FQb"),i=n("q1tI"),u=n.n(i),l=n("Vm2m"),p=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){Object(l.a)(this.props.initialPanelKey)},n.render=function(){return u.a.createElement(a.a,{headerContent:this.props.headerContent,isOpen:this.props.isOpen,onClose:this.props.onClose},u.a.createElement(s.a,{getNextStep:this.props.getNextStep,getPanelFromKey:this.props.getPanelFromKey,isReportingFlowBlocked:this.props.isReportingFlowBlocked,modelId:this.props.modelId,modelType:this.props.modelType}))},t}(i.PureComponent)},"8wS+":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("VbXa"),o=n.n(r),a=n("36r5"),s=n("Uudg"),i=n("og3H"),u=n("q1tI"),l=n.n(u),p=n("IAI4"),c=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){return l.a.createElement(a.a,{getNextStep:p.a.getNextStep,getPanelFromKey:p.a.getPanelFromKey,headerContent:l.a.createElement(s.a,{id:"reporting_flow.set.title"}),initialPanelKey:p.a.initialPanelKey,isOpen:this.props.isOpen,isReportingFlowBlocked:this.props.isReportingFlowBlocked,modelId:this.props.modelId,modelType:i.C.SET,onClose:this.props.onClose})},t}(u.PureComponent)},"9FQb":function(e,t,n){"use strict";var r=n("pn57"),o=n("Vg22"),a=n("YDJX"),s=n("0qdk"),i=n("og3H"),u=n("o0o1"),l=n.n(u),p=(n("ls82"),n("yXPU")),c=n.n(p),_=n("VbXa"),E=n.n(_),A=function(e){function t(){return e.apply(this,arguments)||this}return E()(t,e),t.report=function(){var e=c()(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post(n);case 2:return r=e.sent,e.abrupt("return",r&&r.length&&r[0]&&r[0].data&&r[0].data.userReport?r[0].data.userReport:null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}(n("SQJ4").a);A.URL_BASE="report",A.API_VERSION="3.2",A.CACHE=!1,A.ALLOW_MULTIPLE_REQUESTS=!1,A.REQUEST_TIMEOUT_LIMIT_MS=25e3;var g=n("T3U7"),h=Object(a.createAction)(s.a.UPDATE_ANSWER),y=Object(a.createAction)(s.a.UPDATE_ASYNC_REQUEST_STATUS),f=Object(a.createAction)(s.a.UPDATE_REASON),S=Object(a.createAction)(s.a.UPDATE_SHOW_ASYNC_STATUS),d=Object(a.createAction)(s.a.POP_PANEL),w=Object(a.createAction)(s.a.PUSH_PANEL),T=function(e){return function(t){var n=e.getNextStep(e.panelKey,e.answers);if(n){t(S(n.showAsyncStatus||!1)),t(f(n.reason)),t(w(n.panel));var r=!1;if(n.reason&&null===e.prevReason)r=!0,t(function(e){return function(t){t(y(s.b.AWAITING_RESPONSE)),A.report(e).then((function(e){return t(y(e?s.b.SUCCESS:s.b.SERVER_ERROR))}),(function(e){return t(y((null==e?void 0:e.timeout)?s.b.TIMEOUT:s.b.SERVER_ERROR))}))}}({answers:function(e,t,n){for(var r={},o=0;o<n.size;o++){var a=e(n.get(o));if(a.type===i.eb.QUESTION)for(var s=0;s<a.questions.length;s++){var u=a.questions[s].key;r[u]=t.get(u)}}return r}(e.getPanelFromKey,e.answers,e.history),modelType:e.modelType,modelId:e.modelId,reason:n.reason}));var o={modelType:e.modelType,modelId:e.modelId,panel:n.panel,reason:void 0};r?(o.reason=n.reason,Object(g.a)("finish_reporting_flow",o)):Object(g.a)("continue_reporting_flow",o)}}},R=n("peh1"),I=function(e){return e.get("history")},P=(Object(R.createSelector)(I,(function(e){return e.last()})),n("oQF3")),m=n("FdmV"),b=Object(m.a)("reportingFlow",{answers:function(e){return e.get("answers")},history:I,reason:function(e){return e.get("reason")},requestStatus:function(e){return e.get("requestStatus")},showAsyncStatus:function(e){return e.get("showAsyncStatus")}});t.a=Object(o.connect)(b,(function(e){return{actions:Object(r.bindActionCreators)({onGoBack:d,onUpdateAnswer:h,onSubmitPanel:T},e)}}))(P.a)},FdmV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("peh1");function o(e,t){return Object(r.createSelector)((function(t){return t.get(e)}),(function(e,t){return t}),(function(e){return e}),Object(r.createStructuredSelector)(t))}},IAI4:function(e,t,n){"use strict";(function(e){n("2B1R");var r=n("og3H"),o={};o[r.Z.WHAT_IS_WRONG]={type:r.fb.RADIO,key:r.Z.WHAT_IS_WRONG,question:e("reporting_flow.set.questions.what_is_wrong.question"),options:[{key:r.Y.INACCURATE,text:e("reporting_flow.set.questions.what_is_wrong.options.inaccurate")},{key:r.Y.INAPPROPRIATE,text:e("reporting_flow.set.questions.what_is_wrong.options.inappropriate")},{key:r.Y.CHEATING,text:e("reporting_flow.set.questions.what_is_wrong.options.cheating")},{key:r.Y.INTELLECTUAL_PROPERTY,text:e("reporting_flow.set.questions.what_is_wrong.options.intellectual_property")}]},o[r.Z.WHY_INAPPROPRIATE]={type:r.fb.RADIO,key:r.Z.WHY_INAPPROPRIATE,question:e("reporting_flow.set.questions.why_inappropriate.question"),options:[{key:r.V.BAD_LANGUAGE,text:e("reporting_flow.general.questions.why_inappropriate.options.bad_language")},{key:r.V.MATURE,text:e("reporting_flow.general.questions.why_inappropriate.options.mature")},{key:r.V.SEXUALLY_EXPLICIT,text:e("reporting_flow.general.questions.why_inappropriate.options.sexually_explicit")},{key:r.V.HARASS_BULLY_OR_HATE,text:e("reporting_flow.general.questions.why_inappropriate.options.harass_bully_or_hate")},{key:r.V.SUICIDAL,text:e("reporting_flow.general.questions.why_inappropriate.options.suicidal")},{key:r.V.CHAT,text:e("reporting_flow.general.questions.why_inappropriate.options.chat")},{key:r.V.SPAM,text:e("reporting_flow.general.questions.why_inappropriate.options.spam")},{key:r.V.OTHER,text:e("reporting_flow.general.questions.why_inappropriate.options.other")}]},o[r.Z.WHY_INAPPROPRIATE_OTHER]={type:r.fb.RADIO,key:r.Z.WHY_INAPPROPRIATE_OTHER,question:e("reporting_flow.set.questions.why_inappropriate.question"),options:[{key:r.W.VIOLENT_THREATENING_OR_SELF_HARM,text:e("reporting_flow.general.questions.why_inappropriate_other.options.violent_threatening_or_self_harm")},{key:r.W.PHISHING,text:e("reporting_flow.general.questions.why_inappropriate_other.options.phishing")},{key:r.W.PRIVACY_VIOLATION,text:e("reporting_flow.general.questions.why_inappropriate_other.options.privacy_violation")}]},o[r.Z.WHOSE_PRIVACY]={type:r.fb.RADIO,key:r.Z.WHOSE_PRIVACY,question:e("reporting_flow.general.questions.whose_privacy.question"),options:[{key:r.U.MINE,text:e("reporting_flow.general.questions.whose_privacy.options.mine")},{key:r.U.SOMEONE_ELSE,text:e("reporting_flow.general.questions.whose_privacy.options.someone_else")}]},o[r.Z.WHAT_PRIVATE_INFO]={type:r.fb.RADIO,key:r.Z.WHAT_PRIVATE_INFO,question:e("reporting_flow.set.questions.what_private_info.question"),options:[{key:r.T.PII,text:e("reporting_flow.general.questions.what_private_info.options.pii")},{key:r.T.IMAGES,text:e("reporting_flow.general.questions.what_private_info.options.images")},{key:r.T.OTHER,text:e("reporting_flow.general.questions.what_private_info.options.other")}]},o[r.Z.PRIVACY_DETAILS]={type:r.fb.TEXT,key:r.Z.PRIVACY_DETAILS,question:e("reporting_flow.general.questions.privacy_details.question"),placeholder:e("reporting_flow.general.questions.privacy_details.placeholder")};var a="what_is_wrong",s="why_inappropriate",i="why_inappropriate_other",u="privacy",l="thanks",p="ugc",c="test_bank",_="dmca",E="thanks_suicidal",A=function(e){return e.map((function(e){return o[e]}))},g={};g[a]={key:a,type:r.eb.QUESTION,questions:A([r.Z.WHAT_IS_WRONG])},g[s]={key:s,type:r.eb.QUESTION,questions:A([r.Z.WHY_INAPPROPRIATE])},g[i]={key:i,type:r.eb.QUESTION,questions:A([r.Z.WHY_INAPPROPRIATE_OTHER])},g[u]={key:u,type:r.eb.QUESTION,questions:A([r.Z.WHOSE_PRIVACY,r.Z.WHAT_PRIVATE_INFO,r.Z.PRIVACY_DETAILS])},g[l]={key:l,type:r.eb.MESSAGE,message:e("reporting_flow.general.messages.thanks.body"),buttons:[{title:e("reporting_flow.general.messages.thanks.buttons.home"),url:"/latest",mobileHandler:!1}]},g[p]={key:p,type:r.eb.MESSAGE,message:e("reporting_flow.general.messages.ugc.body"),buttons:[{title:e("reporting_flow.general.messages.ugc.buttons.typos_faq"),url:"/help/2444157/how-do-i-report-a-typo-in-a-set",newTab:!0}]},g[c]={key:c,type:r.eb.MESSAGE,message:e("reporting_flow.set.messages.test_bank.body"),buttons:[{title:e("reporting_flow.set.messages.test_bank.buttons.report_test_bank"),url:"/testbank/request",newTab:!0}]},g[_]={key:_,type:r.eb.MESSAGE,message:e("reporting_flow.general.messages.dmca.body"),buttons:[{title:e("reporting_flow.general.messages.dmca.buttons.dmca_policy"),url:"/dmca",newTab:!0}]},g[E]={key:E,type:r.eb.MESSAGE,message:e("reporting_flow.general.messages.thanks_suicidal.body"),buttons:[{title:e("reporting_flow.general.messages.thanks_suicidal.buttons.self_harm_help_center"),url:"/help/2444162/self-harm-prevention-and-user-safety",newTab:!0},{key:"home",title:e("reporting_flow.general.messages.thanks_suicidal.buttons.home"),url:"/latest",mobileHandler:!1}]};var h={initialPanelKey:a,getPanelFromKey:function(e){return g[e]},getNextStep:function(e,t){switch(e){case a:switch(t.get(r.Z.WHAT_IS_WRONG)){case r.Y.INACCURATE:return{panel:p,reason:r.X.INACCURATE,showAsyncStatus:!1};case r.Y.INAPPROPRIATE:return{panel:s,reason:null};case r.Y.CHEATING:return{panel:c,reason:r.X.CHEATING,showAsyncStatus:!1};case r.Y.INTELLECTUAL_PROPERTY:return{panel:_,reason:r.X.INTELLECTUAL_PROPERTY,showAsyncStatus:!1}}break;case s:switch(t.get(r.Z.WHY_INAPPROPRIATE)){case r.V.OTHER:return{panel:i,reason:null};case r.V.BAD_LANGUAGE:return{panel:l,reason:r.X.BAD_LANGUAGE,showAsyncStatus:!0};case r.V.MATURE:return{panel:l,reason:r.X.MATURE,showAsyncStatus:!0};case r.V.SEXUALLY_EXPLICIT:return{panel:l,reason:r.X.SEXUALLY_EXPLICIT,showAsyncStatus:!0};case r.V.HARASS_BULLY_OR_HATE:return{panel:l,reason:r.X.HARASS_BULLY_OR_HATE,showAsyncStatus:!0};case r.V.SUICIDAL:return{panel:E,reason:r.X.SUICIDAL,showAsyncStatus:!0};case r.V.CHAT:return{panel:l,reason:r.X.CHAT,showAsyncStatus:!0};case r.V.SPAM:return{panel:l,reason:r.X.SPAM,showAsyncStatus:!0}}break;case i:switch(t.get(r.Z.WHY_INAPPROPRIATE_OTHER)){case r.W.PRIVACY_VIOLATION:return{panel:u,reason:null};case r.W.VIOLENT_THREATENING_OR_SELF_HARM:return{panel:l,reason:r.X.VIOLENT_THREATENING_OR_SELF_HARM,showAsyncStatus:!0};case r.W.PHISHING:return{panel:l,reason:r.X.PHISHING,showAsyncStatus:!0}}break;case u:return{panel:l,reason:r.X.PRIVACY_VIOLATION,showAsyncStatus:!0}}return null}};t.a=h}).call(this,n("nrsj").default)},Vm2m:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,o=n("JPcv"),a=n("YDJX"),s=n("xhj2"),i=n("0qdk"),u=((r={})[i.a.UPDATE_ANSWER]=function(e,t){var n=t.payload,r=n.question,o=n.answer;return e.setIn(["answers",r],o)},r[i.a.UPDATE_ASYNC_REQUEST_STATUS]=function(e,t){return e.set("requestStatus",t.payload)},r[i.a.UPDATE_REASON]=function(e,t){return e.set("reason",t.payload)},r[i.a.UPDATE_SHOW_ASYNC_STATUS]=function(e,t){return e.set("showAsyncStatus",t.payload)},r[i.a.POP_PANEL]=function(e){var t=e.get("history");return t.size>1?e.merge(Object(o.fromJS)({history:t.pop()})):e},r[i.a.PUSH_PANEL]=function(e,t){return e.set("history",e.get("history").push(t.payload))},r);function l(e){var t=Object(a.handleActions)(u,function(e){return Object(o.fromJS)({answers:{},history:[e],reason:null,requestStatus:null,showAsyncStatus:!0})}(e));s.a.register({reportingFlow:t})}},oQF3:function(e,t,n){"use strict";(function(e){n("ma9I"),n("2B1R"),n("sMBO"),n("SYor");var r=n("VbXa"),o=n.n(r),a=n("Uudg"),s=n("JxFz"),i=n("Pxp3"),u=n("vlgG"),l=n("47yS"),p=n("mM5Q"),c=n("zt8I"),_=n("wcmh"),E=n("OpqZ"),A=n("og3H"),g=n("JPcv"),h=n("q1tI"),y=n.n(h),f=n("0qdk"),S=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).handleUpdateAnswer=function(t){var n=t.target.value,r=t.target.name;e.props.actions.onUpdateAnswer({question:r,answer:n})},e.handleSubmitPanel=function(){e.props.actions.onSubmitPanel({panelKey:e.getCurrentPanelKey(),answers:e.props.answers,getPanelFromKey:e.props.getPanelFromKey,getNextStep:e.props.getNextStep,history:e.props.history,prevReason:e.props.reason,modelType:e.props.modelType,modelId:e.props.modelId})},e}o()(n,t);var r=n.prototype;return r.getCurrentPanel=function(){return this.props.getPanelFromKey(this.getCurrentPanelKey())},r.getCurrentPanelKey=function(){return this.props.history.last()},r.getTextAnswerFor=function(e){var t=this.props.answers.get(e);return void 0===t?"":t},r.renderBackButton=function(){return y.a.createElement(s.a,{"aria-label":e("reporting_flow.navigation.back_button"),onClick:this.props.actions.onGoBack},y.a.createElement(a.a,{id:"reporting_flow.navigation.back_button"}))},r.renderContinueButton=function(){return y.a.createElement(s.a,{"aria-label":e("reporting_flow.navigation.continue_button"),disabled:this.shouldDisableContinueButton(),onClick:this.handleSubmitPanel},y.a.createElement(a.a,{id:"reporting_flow.navigation.continue_button"}))},r.renderQuestionPanel=function(e){var t=e.questions;return y.a.createElement(E.a,null,this.renderQuestions(t),y.a.createElement(c.a,null,this.shouldShowBackButton()?this.renderBackButton():null,this.renderContinueButton()))},r.renderQuestions=function(e){var t=this;return e.map((function(n,r){return y.a.createElement(E.a,{key:n.key},r>0&&e[r-1].type===A.fb.RADIO&&n.type===A.fb.RADIO?y.a.createElement(p.a,null):null,t.renderQuestion(n))}))},r.renderQuestion=function(e){return e.type===A.fb.RADIO?this.renderRadioQuestion(e):this.renderTextQuestion(e)},r.renderRadioQuestion=function(e){return y.a.createElement(i.a,null,this.renderQuestionTitle(e),this.renderQuestionOptions(e))},r.renderQuestionOptions=function(e){var t=this;return e.options.map((function(n){return y.a.createElement(E.a,{key:n.key},y.a.createElement(_.a,{checked:n.key===t.props.answers.get(e.key),label:n.text,name:""+e.key,onChange:t.handleUpdateAnswer,value:n.key}))}))},r.renderTextQuestion=function(e){return y.a.createElement(i.a,null,y.a.createElement(u.a,{label:e.question,name:""+e.key,onChange:this.handleUpdateAnswer,placeholder:e.placeholder,type:"autoExpand",value:this.getTextAnswerFor(e.key)}))},r.renderQuestionTitle=function(e){return y.a.createElement(c.a,null,e.question)},r.renderPanel=function(e){switch(e.type){case A.eb.QUESTION:return this.renderQuestionPanel(e);default:return this.renderMessagePanel(e)}},r.renderMessagePanel=function(e){return y.a.createElement(E.a,null,this.renderResult(e),e.buttons?this.renderMessagePanelButtons(e):null)},r.renderResult=function(e){if(!this.props.showAsyncStatus)return this.renderMessage(e);switch(this.props.requestStatus){case f.b.AWAITING_RESPONSE:return y.a.createElement(l.a,null);case f.b.TIMEOUT:return y.a.createElement(c.a,null,y.a.createElement(a.a,{id:"reporting_flow.general.errors.timeout"}));case f.b.SERVER_ERROR:return y.a.createElement(c.a,null,y.a.createElement(a.a,{id:"reporting_flow.general.errors.server"}));case f.b.SUCCESS:return this.renderMessage(e);default:return null}},r.renderMessage=function(e){return y.a.createElement(c.a,null,e.message)},r.renderMessagePanelButtons=function(e){var t=this;return y.a.createElement(c.a,null,e.buttons.map((function(e){if(t.props.isMobileWebView&&void 0!==e.mobileHandler){if(!1===e.mobileHandler)return null;var n=!0===e.mobileHandler?void 0:e.mobileHandler;return y.a.createElement(s.a,{"aria-label":e.title,key:e.url,onClick:n},e.title)}return y.a.createElement(s.a,{"aria-label":e.title,key:e.url,linkTo:e.url,linkToNewTab:!t.props.isMobileWebView&&!!e.newTab},e.title)})))},r.render=function(){if(this.props.isReportingFlowBlocked)return y.a.createElement(c.a,null,y.a.createElement(a.a,{id:"reporting_flow.general.errors.blocked"}));var e=this.getCurrentPanel();return y.a.createElement("div",{className:"ReportModal-main"},this.renderPanel(e))},r.shouldDisableContinueButton=function(){for(var e=this.getCurrentPanel(),t=this.props.answers,n=!0,r=!1,o=0;o<e.questions.length;o++){var a=e.questions[o].key;switch(e.questions[o].type){case A.fb.RADIO:if(void 0===t.get(a)||null===t.get(a))return!0;n=!1;break;case A.fb.TEXT:""===this.getTextAnswerFor(a).trim()&&(r=!0)}}return n&&r},r.shouldShowBackButton=function(){return this.props.history.size>1},n}(y.a.PureComponent);S.defaultProps={answers:Object(g.Map)(),isMobileWebView:!1,isReportingFlowBlocked:!1,reason:null,requestStatus:f.b.NONE,showAsyncStatus:!0},t.a=S}).call(this,n("nrsj").default)}}]);